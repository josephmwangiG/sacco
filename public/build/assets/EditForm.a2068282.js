import{u as k,j as g,r as w,o as d,c as P,w as F,b as e,f as i,g as q,e as n,l as _,m as x,t as u,F as V,p as c,v as r,d as S}from"./app.3bfe1e0a.js";import T from"./EditApplication.535364fa.js";const M={class:"row mt-3"},N={class:"form-group col-md-4"},j=e("label",{for:"member"},"Member:",-1),E=e("option",{value:"",selected:""},"Select Member",-1),I=["value"],L={key:0,class:"text-danger"},D={class:"form-group col-md-4"},B=e("label",{for:"account_number"},"Account No:",-1),C={class:"form-group col-md-4"},R=e("label",{for:"id_number"},"National Id:",-1),$={class:"form-group col-md-4"},J=e("label",{for:"account_number"},"Address:",-1),O={class:"form-group col-md-4"},z=e("label",{for:"email"},"Email:",-1),G={class:"form-group col-md-4"},H=e("label",{for:"email"},"Phone:",-1),K={class:"form-group col-md-4"},Q=e("label",{for:"date_became_member"}," Date of Joining:",-1),W=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Loan Details"),e("hr")],-1),X={class:"form-group col-md-4"},Y=e("label",{for:"loan"},"Loan:",-1),Z=e("option",{value:"",selected:""},"Select Loan",-1),ee=["value"],te={key:0,class:"text-danger"},oe={class:"form-group col-md-4"},ae=e("label",{for:"interest_type"},"Interest Type:",-1),ne={key:0,class:"text-danger"},le={class:"form-group col-md-4"},ie=e("label",{for:"interest"},"Interest:",-1),se={key:0,class:"text-danger"},re={class:"form-group col-md-4"},pe=e("label",{for:"service_fee"},"Service Fee:",-1),de={class:"form-group col-md-4"},_e=e("label",{for:"amount_applied"},"Amount Applied:",-1),ue={key:0,class:"text-danger"},ce={class:"form-group col-md-4"},me=e("label",{for:"application_date"},"Application Date:",-1),ye={key:0,class:"text-danger"},ve=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Repayment & Penalty"),e("hr")],-1),fe={class:"form-group col-md-4"},be=e("label",{for:"rpay"},"Repayment Period (Months):",-1),Ae={class:"form-group col-md-4"},he=e("label",{for:"payment_frequency"},"Payment Frequency:",-1),ge={class:"form-group col-md-4"},we=e("label",{for:"penalty"}," Penalty Type:",-1),qe={class:"form-group col-md-4"},xe=e("label",{for:"pfre"},"Penalty Frequency:",-1),Ve={class:"form-group col-md-4"},Ue=e("label",{for:"p_value"}," Penalty Amount:",-1),ke={class:"modal-footer mt-3"},Pe={key:0,type:"submit",class:"btn btn-primary"},Fe={key:1,type:"button",class:"btn btn-danger"},Me={name:"EditForm",props:{loanApplication:Object},setup(y){const a=y;let l=k({id:a.loanApplication.id,member:a.loanApplication.member_id,guarantors:a.loanApplication.guarantors,member_id:a.loanApplication.member_id,loan_officer:a.loanApplication.loan_officer_id,loan_type:a.loanApplication.loan_type_id,reduce_principal_early:a.loanApplication.reduce_principal_early,amount_applied:a.loanApplication.amount_applied,interest_rate:a.loanApplication.interest_rate,periodic_payment_amount:a.loanApplication.periodic_payment_amount,application_date:a.loanApplication.application_date,disburse_method:a.loanApplication.disburse_method_id,disburse_note:a.loanApplication.disburse_note,mpesa_number:a.loanApplication.mpesa_number,mpesa_first_name:a.loanApplication.mpesa_first_name,mpesa_middle_name:a.loanApplication.mpesa_middle_name,mpesa_last_name:a.loanApplication.mpesa_last_name,cheque_number:a.loanApplication.cheque_number,bank_name:a.loanApplication.bank_name,bank_branch:a.loanApplication.bank_branch,cheque_date:a.loanApplication.cheque_date,witness_type:a.loanApplication.witness_type_id,witness_first_name:a.loanApplication.witness_first_name,witness_last_name:a.loanApplication.witness_last_name,witness_country:a.loanApplication.witness_country,witness_county:a.loanApplication.witness_county,witness_city:a.loanApplication.witness_city,witness_national_id:a.loanApplication.witness_national_id,witness_phone:a.loanApplication.witness_phone,witness_email:a.loanApplication.witness_email,witness_postal_address:a.loanApplication.witness_postal_address,witness_residential_address:a.loanApplication.witness_residential_address,witnessed_by:a.loanApplication.witnessed_by_user_id,reviewed_by:a.loanApplication.reviewed_by_user_id,reviewed_on:a.loanApplication.reviewed_on,approved_on:a.loanApplication.approved_on,rejected_on:a.loanApplication.rejected_on,rejection_notes:a.loanApplication.rejection_notes,repayment_period:a.loanApplication.repayment_period});const f=g().props.value.members,p=w({account:"",id_number:"",residential_address:"",email:"",phone:"",date_became_member:""}),b=g().props.value.loanTypes,s=w({interest:"",penalty:"",p_value:"",service_fee:"",repayment_period:"",payment_frequency:"",penalty_frequency:"",interest_type:""}),A=m=>{f.forEach(t=>{t.id==m.target.value&&(p.value={account:t.account.account_number,id_number:t.id_number,residential_address:t.residential_address,email:t.email,phone:t.phone,date_became_member:t.date_became_member})})},h=m=>{b.forEach(t=>{t.id==m.target.value&&(s.value={interest:t.interest_rate,penalty:t.penaltyType.display_name,p_value:t.penalty_value,service_fee:t.service_fee,repayment_period:t.repayment_period,penalty_frequency:t.penaltyFrequency.display_name,payment_frequency:t.paymentFrequency.display_name,interest_type:t.interestType.display_name})})};A({target:{value:a.loanApplication.member_id}}),h({target:{value:a.loanApplication.loan_type_id}});function U(){l.put(route("loanApplications.update",a.loanApplication.id),{onSuccess:()=>{}})}return(m,t)=>(d(),P(T,{id:y.loanApplication.id,active:"details"},{default:F(()=>[e("form",{onSubmit:t[20]||(t[20]=S(o=>U(),["prevent"]))},[e("div",M,[e("div",N,[j,i(e("select",{required:"",onChange:t[0]||(t[0]=o=>A(o)),"onUpdate:modelValue":t[1]||(t[1]=o=>n(l).member=o),class:"form-control",id:"member"},[E,(d(!0),_(V,null,x(n(f),(o,v)=>(d(),_("option",{value:o.id,key:v},u(o.first_name)+" "+u(o.last_name),9,I))),128))],544),[[q,n(l).member]]),n(l).errors.member?(d(),_("div",L,[e("small",null,u(n(l).errors.member),1)])):c("",!0)]),e("div",D,[B,i(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>p.value.account=o),class:"form-control",required:"",id:"account_number",placeholder:"Account Number"},null,512),[[r,p.value.account]])]),e("div",C,[R,i(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>p.value.id_number=o),class:"form-control",required:"",id:"id_number",placeholder:"National Id"},null,512),[[r,p.value.id_number]])]),e("div",$,[J,i(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>p.value.residential_address=o),class:"form-control",required:"",id:"account_number",placeholder:"Residential Address"},null,512),[[r,p.value.residential_address]])]),e("div",O,[z,i(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>p.value.email=o),class:"form-control",required:"",id:"email",placeholder:"Email"},null,512),[[r,p.value.email]])]),e("div",G,[H,i(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>p.value.phone=o),class:"form-control",required:"",id:"email",placeholder:"Phone Number"},null,512),[[r,p.value.phone]])]),e("div",K,[Q,i(e("input",{type:"date",class:"form-control",id:"date_became_member","onUpdate:modelValue":t[7]||(t[7]=o=>p.value.date_became_member=o)},null,512),[[r,p.value.date_became_member]])]),W,e("div",X,[Y,i(e("select",{onChange:t[8]||(t[8]=o=>h(o)),required:"","onUpdate:modelValue":t[9]||(t[9]=o=>n(l).loan_type=o),class:"form-control",id:"loan"},[Z,(d(!0),_(V,null,x(n(b),(o,v)=>(d(),_("option",{value:o.id,key:v},u(o.name),9,ee))),128))],544),[[q,n(l).loan_type]]),n(l).errors.loan?(d(),_("div",te,[e("small",null,u(n(l).errors.loan),1)])):c("",!0)]),e("div",oe,[ae,i(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[10]||(t[10]=o=>s.value.interest_type=o),id:"interest_type",placeholder:"Interest Type"},null,512),[[r,s.value.interest_type]]),n(l).errors.interest_type?(d(),_("div",ne,[e("small",null,u(n(l).errors.interest_type),1)])):c("",!0)]),e("div",le,[ie,i(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[11]||(t[11]=o=>s.value.interest=o),id:"interest",placeholder:"interest"},null,512),[[r,s.value.interest]]),n(l).errors.interest?(d(),_("div",se,[e("small",null,u(n(l).errors.Interest),1)])):c("",!0)]),e("div",re,[pe,i(e("input",{type:"text",class:"form-control",id:"service_fee","onUpdate:modelValue":t[12]||(t[12]=o=>s.value.service_fee=o),placeholder:"Service Fee"},null,512),[[r,s.value.service_fee]])]),e("div",de,[_e,i(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[13]||(t[13]=o=>n(l).amount_applied=o),id:"amount_applied",placeholder:"Amount Applied"},null,512),[[r,n(l).amount_applied]]),n(l).errors.amount_applied?(d(),_("div",ue,[e("small",null,u(n(l).errors.amount_applied),1)])):c("",!0)]),e("div",ce,[me,i(e("input",{type:"date",class:"form-control",required:"","onUpdate:modelValue":t[14]||(t[14]=o=>n(l).application_date=o),id:"application_date",placeholder:"application_date"},null,512),[[r,n(l).application_date]]),n(l).errors.application_date?(d(),_("div",ye,[e("small",null,u(n(l).errors.application_date),1)])):c("",!0)]),ve,e("div",fe,[be,i(e("input",{type:"text",class:"form-control",id:"rpay","onUpdate:modelValue":t[15]||(t[15]=o=>s.value.repayment_period=o),placeholder:"Repayment Period"},null,512),[[r,s.value.repayment_period]])]),e("div",Ae,[he,i(e("input",{type:"text",class:"form-control",id:"payment_frequency","onUpdate:modelValue":t[16]||(t[16]=o=>s.value.payment_frequency=o),placeholder:"Payment Frequency"},null,512),[[r,s.value.payment_frequency]])]),e("div",ge,[we,i(e("input",{type:"text",class:"form-control",id:"penalty","onUpdate:modelValue":t[17]||(t[17]=o=>s.value.penalty=o),placeholder:" Penalty Type"},null,512),[[r,s.value.penalty]])]),e("div",qe,[xe,i(e("input",{type:"text",class:"form-control",id:"pfre","onUpdate:modelValue":t[18]||(t[18]=o=>s.value.penalty_frequency=o),placeholder:"Penalty Frequency"},null,512),[[r,s.value.penalty_frequency]])]),e("div",Ve,[Ue,i(e("input",{type:"text",class:"form-control",id:"p_value","onUpdate:modelValue":t[19]||(t[19]=o=>s.value.p_value=o),placeholder:"Penalty Amount"},null,512),[[r,s.value.p_value]])])]),e("div",ke,[y.loanApplication.approved_on==null?(d(),_("button",Pe," Save changes ")):(d(),_("button",Fe,"Active Loan"))])],32)]),_:1},8,["id"]))}};export{Me as default};
