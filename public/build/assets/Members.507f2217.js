import{r as o,u as b,q as B,a as f,o as l,c as L,w as g,b as e,f as N,v as A,e as r,s as y,l as _,m as x,t as a,k as c,F as w,x as D}from"./app.a9a0490e.js";import T from"./MemberForm.f106b7bd.js";import{d as F}from"./debounce.559dd8f5.js";import"./_baseGetTag.7ab3fb4a.js";const O={class:"row"},P={class:"col-sm-12"},V={class:"iq-card"},E=e("div",{class:"iq-card-header d-flex justify-content-between"},[e("div",{class:"iq-header-title"},[e("h4",{class:"card-title"},"Members")])],-1),H={class:"iq-card-body"},I={class:"row justify-content-between"},$={class:"col-sm-12 col-md-5"},J={id:"user_list_datatable_info",class:"dataTables_filter"},R={class:"mr-3 position-relative"},U={class:"form-group mb-0"},z={class:"col-sm-12 col-md-7"},G={class:"user-list-files d-flex float-right"},K=["href"],Q={class:"table-responsive"},W={id:"user-list-table",class:"table table-striped table-borderless mt-4",role:"grid","aria-describedby":"user-list-page-info"},X=e("thead",null,[e("tr",null,[e("th",null,"Ac Number"),e("th",null,"Member"),e("th",null,"Branch"),e("th",null,"Phone Number"),e("th",null,"Address"),e("th",null,"Status"),e("th",null,"Date Joined"),e("th",null,"Action")])],-1),Y=e("td",null,[e("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),Z={class:"flex align-items-center list-user-action"},ee=e("i",{class:"ri-pencil-line"},null,-1),te=["onClick"],se=e("i",{class:"ri-delete-bin-line"},null,-1),ae=[se],ne={class:"row justify-content-between mt-3"},ie={id:"user-list-page-info",class:"col-md-6"},oe={class:"col-md-6"},le={"aria-label":"Page navigation example"},re={class:"pagination justify-content-end mb-0"},he={name:"Members",props:{members:Object,filters:Object},setup(n){let i=o(n.filters.search),d=o(""),u=o("Create"),m=o(0),h=o(b({branch_id:"",assigned_to:"",first_name:"",last_name:"",date_of_birth:"",nationality:"",county:"",city:"",id_number:"",passport_number:"",phone:"",email:"",postal_address:"",residential_address:"",status_id:"",passport_photo:"",extra_images:"",membership_form:"",kra_pin:"",employer_name:"",residence:"",income_bracket:"0 - 50, 000",bank_name:"",bank_branch:"",bank_account_number:"",next_of_kin:"",next_of_kin_relationship:"",next_of_kin_postal_address:"",next_of_kin_phone_number:"",next_of_kin_email:"",date_became_member:"date_became_member"}));const C=()=>{m.value=0,u.value="Create",h.value=b({branch_id:"",assigned_to:"",first_name:"",last_name:"",date_of_birth:"",nationality:"",county:"",city:"",id_number:"",passport_number:"",phone:"",email:"",postal_address:"",residential_address:"",status_id:"",passport_photo:"",extra_images:"",membership_form:"",kra_pin:"",employer_name:"",residence:"",income_bracket:"0 - 50, 000",bank_name:"",bank_branch:"",bank_account_number:"",next_of_kin:"",next_of_kin_relationship:"",next_of_kin_postal_address:"",next_of_kin_phone_number:"",next_of_kin_email:"",date_became_member:""})},q=t=>{u.value="Edit",m.value=t.id,h.value=b({member_id:t.member,first_name:t.first_name,last_name:t.last_name,date_of_birth:t.date_of_birth,date_became_member:t.date_became_member,nationality:t.nationality,county:t.county,city:t.city,id_number:t.id_number,passport_number:t.passport_number,phone:t.phone,email:t.email,postal_address:t.postal_address,residential_address:t.residential_address,status_id:t.status_id})};return B(i,F(t=>{D.Inertia.get(route("members.index"),{search:i.value},{preserveState:!0,replace:!0})},500)),(t,v)=>{const k=f("Link"),M=f("Confirm"),j=f("Main");return l(),L(j,null,{default:g(()=>[e("div",O,[e("div",P,[e("div",V,[E,e("div",H,[e("div",I,[e("div",$,[e("div",J,[e("form",R,[e("div",U,[N(e("input",{type:"search","onUpdate:modelValue":v[0]||(v[0]=s=>y(i)?i.value=s:i=s),class:"form-control",id:"exampleInputSearch",placeholder:"Search","aria-controls":"user-list-table"},null,512),[[A,r(i)]])])])])]),e("div",z,[e("div",G,[e("a",{class:"iq-bg-primary",href:t.route("pdf.members")}," Print ",8,K),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:C,href:"javascript:void();"}," New ")])])]),e("div",Q,[e("table",W,[X,e("tbody",null,[(l(!0),_(w,null,x(n.members.data,(s,p)=>(l(),_("tr",{key:p},[e("td",null,a(s.account.account_number),1),e("td",null,a(s.first_name)+" "+a(s.last_name),1),e("td",null,a(s.branch.name),1),e("td",null,a(s.phone),1),e("td",null,a(s.city)+", "+a(s.user.country),1),Y,e("td",null,a(s.date_became_member.substring(0,10)),1),e("td",null,[e("div",Z,[c(k,{class:"iq-bg-primary",onClick:S=>q(s),href:t.route("members.edit",s.id)},{default:g(()=>[ee]),_:2},1032,["onClick","href"]),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:S=>y(d)?d.value=t.route("members.destroy",s.id):d=t.route("members.destroy",s.id),"data-original-title":"Delete",href:"#confirm"},ae,8,te)])])]))),128))])])]),e("div",ne,[e("div",ie,[e("span",null,"Showing 1 to "+a(n.members.total>10?"10":n.members.total)+" of "+a(n.members.total)+" entries",1)]),e("div",oe,[e("nav",le,[e("ul",re,[(l(!0),_(w,null,x(n.members.links,(s,p)=>(l(),_("li",{class:"page-item active",key:p},[c(k,{class:"page-link",href:s.url,innerHTML:s.label},null,8,["href","innerHTML"])]))),128))])])])])])])])]),c(M,{url:r(d)},null,8,["url"]),c(T,{form:r(h),action:r(u),item:r(m)},null,8,["form","action","item"])]),_:1})}}};export{he as default};
