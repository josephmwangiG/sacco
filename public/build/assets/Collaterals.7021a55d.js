import{r as s,u as p,a as k,o as n,c as y,w as z,b as a,l as v,p as N,m as w,t as c,s as q,F as B,k as f,e as r}from"./app.8c14ce0c.js";import O from"./CollateralForm.4856d769.js";import V from"./EditApplication.8a276ab7.js";import"./_baseGetTag.a7f6b3f0.js";const $={class:"row justify-content-between"},x=a("div",{class:"col-sm-5 col-md-4"},[a("h4",{class:"card-title"},"Collaterals")],-1),E={class:"col-sm-7 col-md-6"},F={class:"user-list-files d-flex float-right"},D=a("a",{class:"iq-bg-primary",href:"javascript:void();"}," Print ",-1),M={class:"table-responsive"},L={id:"user-list-table",class:"table table-striped table-borderless mt-2",role:"grid","aria-describedby":"user-list-page-info"},P=a("thead",null,[a("tr",null,[a("th",null,"Asset"),a("th",null,"Asset No."),a("th",null,"valuation Amt."),a("th",null,"Valuation date"),a("th",null,"Action")])],-1),R={class:"flex align-items-center list-user-action"},S=["onClick"],G=a("i",{class:"ri-pencil-line"},null,-1),H=[G],I=["onClick"],J=a("i",{class:"ri-delete-bin-line"},null,-1),K=[J],X={name:"Collaterals",props:{collaterals:Object,assets:Object,loanApplication:Object,id:Number},setup(i){const t=i;console.log(t.collaterals);let o=s(""),d=s("Create"),u=s(0),m=s(p({loan_application_id:t.loanApplication.id,member_id:t.loanApplication.member_id,organization_id:t.loanApplication.organization_id,asset_number:"",asset:"",valuation_date:"",valuation_amount:"",condition:""}));const h=()=>{u.value=0,d.value="Create",m.value=p({loan_application_id:t.loanApplication.id,member_id:t.loanApplication.member_id,organization_id:t.loanApplication.organization_id,asset_number:"",asset:"",valuation_date:"",valuation_amount:"",condition:""})},g=e=>{d.value="Edit",u.value=e.id,t.assets.forEach(_=>{_.id==e.asset_id&&(m.value=p({loan_application_id:t.loanApplication.id,member_id:t.loanApplication.meber_id,organization_id:t.loanApplication.organization_id,asset:_.id,asset_number:e.asset.asset_number,valuation_date:e.asset.valuation_date,valuation_amount:e.asset.valuation_amount,condition:e.asset.condition}))})};return(e,_)=>{const b=k("Confirm");return n(),y(V,{loanApplication:i.loanApplication,active:"collaterals"},{default:z(()=>[a("div",$,[x,a("div",E,[a("div",F,[D,i.loanApplication.approved_on==null?(n(),v("a",{key:0,class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:h,href:"javascript:void();"}," New ")):N("",!0)])])]),a("div",M,[a("table",L,[P,a("tbody",null,[(n(!0),v(B,null,w(i.collaterals,(l,A)=>(n(),v("tr",{key:A},[a("td",null,c(l.asset.title),1),a("td",null,c(l.asset.asset_number),1),a("td",null,c(l.asset.valuation_amount),1),a("td",null,c(l.asset.valuation_date),1),a("td",null,[a("div",R,[a("a",{class:"iq-bg-primary","data-placement":"top",onClick:C=>g(l),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},H,8,S),a("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:C=>q(o)?o.value=e.route("loanApplications.delete.collaterals",l.id):o=e.route("loanApplications.delete.collaterals",l.id),"data-original-title":"Delete",href:"#confirm"},K,8,I)])])]))),128))])])]),f(b,{url:r(o)},null,8,["url"]),f(O,{assets:i.assets,form:r(m),action:r(d),item:r(u),id:i.id},null,8,["assets","form","action","item","id"])]),_:1},8,["loanApplication"])}}};export{X as default};
