import{j as C,r,u as _,a as y,o as i,c as N,w as q,b as e,l as p,p as w,m as B,t as l,s as $,F as x,k as g,e as c}from"./app.8c14ce0c.js";import E from"./GuarantorsForm.9de5e0d9.js";import F from"./EditApplication.8a276ab7.js";import"./_baseGetTag.a7f6b3f0.js";const M={class:"row justify-content-between"},O=e("div",{class:"col-sm-5 col-md-4"},[e("h4",{class:"card-title"},"Guarantors")],-1),P={class:"col-sm-7 col-md-6"},V={class:"user-list-files d-flex float-right"},D=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Print ",-1),G={class:"table-responsive"},S={id:"user-list-table",class:"table table-striped table-borderless mt-2",role:"grid","aria-describedby":"user-list-page-info"},L=e("thead",null,[e("tr",null,[e("th",null,"Member"),e("th",null,"Ac Number"),e("th",null,"Amount"),e("th",null,"Address"),e("th",null,"Phone"),e("th",null,"Status"),e("th",null,"Action")])],-1),R=e("td",null,[e("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),z={class:"flex align-items-center list-user-action"},H=["onClick"],I=e("i",{class:"ri-pencil-line"},null,-1),J=[I],K=["onClick"],Q=e("i",{class:"ri-delete-bin-line"},null,-1),T=[Q],j={name:"Guarantors",props:{loanApplication:Object,guarantors:Object,id:Number},setup(n){console.log(n.guarantors);const h=C().props.value.members;let s=r(""),u=r("Create"),d=r(0),m=r(_({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""}));const b=()=>{d.value=0,u.value="Create",m.value=_({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""})},f=a=>{u.value="Edit",d.value=a.id,h.forEach(o=>{o.id==a.member_id&&(m.value=_({id_number:o.id_number,account_number:o.account.account_number,member:a.member_id,notes:a.notes,guarantee_amount:a.guarantee_amount}))})};return(a,o)=>{const v=y("Confirm");return i(),N(F,{loanApplication:n.loanApplication,active:"guarantors"},{default:q(()=>[e("div",M,[O,e("div",P,[e("div",V,[D,n.loanApplication.approved_on==null?(i(),p("a",{key:0,class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:b,href:"javascript:void();"}," New ")):w("",!0)])])]),e("div",G,[e("table",S,[L,e("tbody",null,[(i(!0),p(x,null,B(n.guarantors,(t,A)=>(i(),p("tr",{key:A},[e("td",null,l(t.member.user.first_name)+" "+l(t.member.user.last_name),1),e("td",null,l(t.member.account.account_number),1),e("td",null,l(t.guarantee_amount),1),e("td",null,l(t.member.user.residential_address),1),e("td",null,l(t.member.user.phone),1),R,e("td",null,[e("div",z,[e("a",{class:"iq-bg-primary","data-placement":"top",onClick:k=>f(t),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},J,8,H),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:k=>$(s)?s.value=a.route("loanApplications.delete.guarantors",t.id):s=a.route("loanApplications.delete.guarantors",t.id),"data-original-title":"Delete",href:"#confirm"},T,8,K)])])]))),128))])])]),g(v,{url:c(s)},null,8,["url"]),g(E,{m_id:n.loanApplication.member_id,form:c(m),action:c(u),item:c(d),id:n.id},null,8,["m_id","form","action","item","id"])]),_:1},8,["loanApplication"])}}};export{j as default};
