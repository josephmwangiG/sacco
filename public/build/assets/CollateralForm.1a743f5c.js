import{j as f,o as l,l as n,b as t,t as d,d as b,f as r,g as h,F as _,m as g,n as i,v as u}from"./app.24fde918.js";const y={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},x={class:"modal-dialog modal-lg",role:"document"},V={class:"modal-content"},k={class:"modal-header"},M={class:"modal-title",id:"formModal"},A=t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),C={class:"modal-body modal-div"},S={class:"new-user-info"},E={class:"row"},N={class:"form-group col-sm-6"},w=t("label",{for:"asset"},"Asset:",-1),B=t("option",{value:""},"Select Asset",-1),U=["value"],F={key:0,class:"text-danger"},j={class:"form-group col-md-6"},I=t("label",{for:"asset_number"},"Asset Number:",-1),p={key:0,class:"text-danger"},q={class:"form-group col-md-6"},D=t("label",{for:"valuation_amount"},"Valuation Amount:",-1),O={key:0,class:"text-danger"},L={class:"form-group col-md-6"},P=t("label",{for:"valuation_date"},"Valuation date:",-1),T={key:0,class:"text-danger"},$={class:"form-group col-md-12"},z={class:"form-group"},G=t("label",{for:"condition"},"Asset Condition",-1),H={key:0,class:"text-danger"},J={class:"modal-footer"},K=t("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),Q={type:"submit",class:"btn btn-primary"},X={name:"CollateralForm",props:{form:Object,assets:Object,action:String,item:Number,id:Number},emits:["getItems"],setup(o,{emit:R}){const a=o;f().props.value.paymentMethods,f().props.value.members;const c=m=>{a.assets.forEach(e=>{e.id==m.target.value&&(a.form.asset_number=e.asset_number,a.form.valuation_amount=e.valuation_amount,a.form.valuation_date=e.valuation_date,a.form.condition=e.condition)})};a.action=="Edit"&&c({target:{value:a.form.asset}});function v(){a.action=="Edit"?a.form.put(route("collaterals.update",a.item),{onSuccess:m=>{a.form.reset(),document.getElementById("closeModal").click()}}):a.form.post(route("collaterals.store"),{onSuccess:m=>{a.form.reset(),document.getElementById("closeModal").click()}})}return(m,e)=>(l(),n("div",y,[t("div",x,[t("div",V,[t("div",k,[t("h5",M,d(o.action)+" Collateral.",1),A]),t("form",{onSubmit:e[6]||(e[6]=b(s=>v(),["prevent"]))},[t("div",C,[t("div",S,[t("div",E,[t("div",N,[w,r(t("select",{required:"",onChange:e[0]||(e[0]=s=>c(s)),"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.asset=s),class:"form-control",id:"asset"},[B,(l(!0),n(_,null,g(o.assets,s=>(l(),n("option",{key:s.id,value:s.id},d(s.title),9,U))),128))],544),[[h,o.form.asset]]),o.form.errors.asset?(l(),n("div",F,[t("small",null,d(o.form.errors.asset),1)])):i("",!0)]),t("div",j,[I,r(t("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":e[2]||(e[2]=s=>o.form.asset_number=s),id:"asset_number",placeholder:"Asset Number"},null,512),[[u,o.form.asset_number]]),o.form.errors.asset_number?(l(),n("div",p,[t("small",null,d(o.form.errors.asset_number),1)])):i("",!0)]),t("div",q,[D,r(t("input",{type:"text",class:"form-control",id:"valuation_amount","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.valuation_amount=s),placeholder:"Valuation Amount"},null,512),[[u,o.form.valuation_amount]]),o.form.errors.valuation_amount?(l(),n("div",O,[t("small",null,d(o.form.errors.valuation_amount),1)])):i("",!0)]),t("div",L,[P,r(t("input",{type:"date",class:"form-control",id:"valuation_date","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.valuation_date=s),placeholder:"Valuation date"},null,512),[[u,o.form.valuation_date]]),o.form.errors.valuation_date?(l(),n("div",T,[t("small",null,d(o.form.errors.valuation_date),1)])):i("",!0)]),t("div",$,[t("div",z,[G,r(t("textarea",{class:"form-control","onUpdate:modelValue":e[5]||(e[5]=s=>o.form.condition=s),placeholder:"Asset Condition",id:"condition",rows:"4"},null,512),[[u,o.form.condition]]),o.form.errors.condition?(l(),n("div",H,[t("small",null,d(o.form.errors.condition),1)])):i("",!0)])])])])]),t("div",J,[K,t("button",Q,d(o.action)+" Collateral ",1)])],32)])])]))}};export{X as default};
