import{j as b,o as l,l as r,b as e,t as n,d as q,z as u,f as m,g as h,F as v,m as y,e as g,p as s,v as i}from"./app.3bfe1e0a.js";const B={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},C={class:"modal-dialog modal-lg",role:"document"},V={class:"modal-content modal-div"},N={class:"modal-header"},U={class:"modal-title",id:"formModal"},D=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),S={class:"modal-body"},w={class:"new-user-info"},E={class:"row"},P=e("label",{for:"member"},"Member:",-1),A=["disabled"],F=e("option",{value:""},"Select option",-1),I=["value"],L={key:0,class:"text-danger"},j=e("label",{for:"member_names"},"Member:",-1),T=["disabled","value"],p={class:"form-group col-md-6"},z=e("label",{for:"account_number"},"Ac Number:",-1),O={key:0,class:"text-danger"},H={class:"form-group col-md-6"},K=e("label",{for:"id_number"},"National Id:",-1),$={key:0,class:"text-danger"},G={class:"form-group col-sm-6"},J=e("label",{for:"payment_method"},"Payment Method:",-1),Q=e("option",{value:""},"Select option",-1),R={key:0,class:"text-danger"},W={class:"form-group col-md-6"},X=e("label",{for:"bank_name"},"Bank Name:",-1),Y={key:0,class:"text-danger"},Z={class:"form-group col-md-6"},ee=e("label",{for:"bank_branch"},"Bank branch:",-1),oe={key:0,class:"text-danger"},te={class:"form-group col-md-6"},ae=e("label",{for:"cheque_date"},"Cheque Date:",-1),le={key:0,class:"text-danger"},re={class:"form-group col-md-6"},ne=e("label",{for:"cheque_number"},"Cheque Number:",-1),se={key:0,class:"text-danger"},me={class:"row"},de={class:"form-group col-md-6"},ie=e("label",{for:"amount"},"Amount:",-1),ce={key:0,class:"text-danger"},ue={class:"form-group col-md-6"},fe=e("label",{for:"payment_date"},"Payment Date:",-1),be={key:0,class:"text-danger"},he={class:"form-group col-md-12"},ve={class:"form-group"},ye=e("label",{for:"exampleFormControlTextarea1"},"Description",-1),ge={key:0,class:"text-danger"},ke={class:"modal-footer"},_e=e("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),xe={type:"submit",class:"btn btn-primary"},qe={name:"PaymentForm",props:{form:Object,action:String,item:Number,hasMember:Boolean,memberDetails:Object},setup(o){const d=o,k=b().props.value.paymentMethods,f=b().props.value.members,_=c=>{f.forEach(a=>{a.id==c.target.value&&(d.form.id_number=a.id_number,d.form.account_number=a.account.account_number)})},x=c=>{c.target.value=="BANK"?document.getElementById("bank_div").classList.remove("collapse"):document.getElementById("bank_div").classList.add("collapse")};function M(){d.action=="Edit"?d.form.put(route("activeLoans.update.payments",d.item),{onSuccess:()=>{d.form.reset(),document.getElementById("closeModal").click()}}):d.form.post(route("activeLoans.store.payments",d.form.loan_id),{onSuccess:()=>{d.form.reset(),document.getElementById("closeModal").click()}})}return(c,a)=>(l(),r("div",B,[e("div",C,[e("div",V,[e("div",N,[e("h5",U,n(o.action)+" Loan Payment.",1),D]),e("form",{onSubmit:a[13]||(a[13]=q(t=>M(),["prevent"]))},[e("div",S,[e("div",w,[e("div",E,[e("div",{class:u(["form-group col-sm-6",o.hasMember?"collapse":""])},[P,m(e("select",{required:"",onChange:a[0]||(a[0]=t=>_(t)),"onUpdate:modelValue":a[1]||(a[1]=t=>o.form.member=t),class:"form-control",id:"member",disabled:!!o.hasMember},[F,(l(!0),r(v,null,y(g(f),t=>(l(),r("option",{key:t.id,value:t.id},n(t.first_name)+" "+n(t.last_name),9,I))),128))],40,A),[[h,o.form.member]]),o.form.errors.member?(l(),r("div",L,[e("small",null,n(o.form.errors.member),1)])):s("",!0)],2),o.hasMember?(l(),r("div",{key:0,class:u(["form-group col-md-6",o.hasMember?"":"collapse"])},[j,e("input",{type:"text",class:"form-control",required:"",disabled:!o.hasMember,value:o.memberDetails.first_name+" "+o.memberDetails.last_name,id:"member_names",placeholder:"Member"},null,8,T)],2)):s("",!0),e("div",p,[z,m(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":a[2]||(a[2]=t=>o.form.account_number=t),id:"account_number",placeholder:"Ac Number"},null,512),[[i,o.form.account_number]]),o.form.errors.account_number?(l(),r("div",O,[e("small",null,n(o.form.errors.account_number),1)])):s("",!0)]),e("div",H,[K,m(e("input",{type:"text",class:"form-control",id:"id_number","onUpdate:modelValue":a[3]||(a[3]=t=>o.form.id_number=t),placeholder:"National Id"},null,512),[[i,o.form.id_number]]),o.form.errors.id_number?(l(),r("div",$,[e("small",null,n(o.form.errors.id_number),1)])):s("",!0)]),e("div",G,[J,m(e("select",{required:"","onUpdate:modelValue":a[4]||(a[4]=t=>o.form.payment_method=t),class:"form-control",onChange:a[5]||(a[5]=t=>x(t)),id:"payment_method"},[Q,(l(!0),r(v,null,y(g(k),t=>(l(),r("option",{key:t.id},n(t.name),1))),128))],544),[[h,o.form.payment_method]]),o.form.errors.payment_method?(l(),r("div",R,[e("small",null,n(o.form.errors.payment_method),1)])):s("",!0)])]),e("div",{class:u(["row",o.form.method_id=="CASH"?"collapse":""]),id:"bank_div"},[e("div",W,[X,m(e("input",{type:"text",class:"form-control",id:"bank_name","onUpdate:modelValue":a[6]||(a[6]=t=>o.form.bank_name=t),placeholder:"Bank Name"},null,512),[[i,o.form.bank_name]]),o.form.errors.bank_name?(l(),r("div",Y,[e("small",null,n(o.form.errors.bank_name),1)])):s("",!0)]),e("div",Z,[ee,m(e("input",{type:"text",class:"form-control",id:"bank_branch","onUpdate:modelValue":a[7]||(a[7]=t=>o.form.bank_branch=t),placeholder:"Bank Branch"},null,512),[[i,o.form.bank_branch]]),o.form.errors.bank_branch?(l(),r("div",oe,[e("small",null,n(o.form.errors.bank_branch),1)])):s("",!0)]),e("div",te,[ae,m(e("input",{type:"date",class:"form-control",id:"cheque_date","onUpdate:modelValue":a[8]||(a[8]=t=>o.form.cheque_date=t),placeholder:"Cheque Date"},null,512),[[i,o.form.cheque_date]]),o.form.errors.cheque_date?(l(),r("div",le,[e("small",null,n(o.form.errors.cheque_date),1)])):s("",!0)]),e("div",re,[ne,m(e("input",{type:"text",class:"form-control",id:"cheque_number","onUpdate:modelValue":a[9]||(a[9]=t=>o.form.cheque_number=t),placeholder:"Cheque Number"},null,512),[[i,o.form.cheque_number]]),o.form.errors.cheque_number?(l(),r("div",se,[e("small",null,n(o.form.errors.cheque_number),1)])):s("",!0)])],2),e("div",me,[e("div",de,[ie,m(e("input",{type:"text",class:"form-control",id:"amount","onUpdate:modelValue":a[10]||(a[10]=t=>o.form.amount=t),placeholder:"Amount"},null,512),[[i,o.form.amount]]),o.form.errors.amount?(l(),r("div",ce,[e("small",null,n(o.form.errors.amount),1)])):s("",!0)]),e("div",ue,[fe,m(e("input",{type:"date",class:"form-control",id:"payment_date","onUpdate:modelValue":a[11]||(a[11]=t=>o.form.payment_date=t),placeholder:"Payment Date"},null,512),[[i,o.form.payment_date]]),o.form.errors.payment_date?(l(),r("div",be,[e("small",null,n(o.form.errors.payment_date),1)])):s("",!0)]),e("div",he,[e("div",ve,[ye,m(e("textarea",{class:"form-control","onUpdate:modelValue":a[12]||(a[12]=t=>o.form.description=t),placeholder:"Short description",id:"exampleFormControlTextarea1",rows:"4"},null,512),[[i,o.form.description]]),o.form.errors.description?(l(),r("div",ge,[e("small",null,n(o.form.errors.description),1)])):s("",!0)])])])])]),e("div",ke,[_e,e("button",xe,n(o.action)+" Payment ",1)])],32)])])]))}};export{qe as default};
