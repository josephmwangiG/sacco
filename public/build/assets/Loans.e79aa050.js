import{r as p,u as D,a as f,o as i,c as M,w as h,b as e,f as v,v as y,e as n,g as S,l as d,m as b,t as o,F as g,k as x}from"./app.24fde918.js";import{u as V}from"./dataTable.28067ec5.js";import"./_baseGetTag.7464d959.js";const A={class:"row"},B={class:"col-sm-12"},F={class:"iq-card"},q={class:"iq-card-body"},N={class:"d-flex justify-content-between align-items-center"},U=e("h4",{class:"card-title"},"Active Loan",-1),$={class:"d-flex align-items-center justify-content-between"},O=e("option",{value:""},"All Loan Type",-1),E=["value"],I={class:"user-list-files"},P=["href"],z=e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Member"),e("th",null,"Loan"),e("th",null,"Interest"),e("th",null,"Amount"),e("th",null,"Service Fee"),e("th",null,"Status"),e("th",null,"Start Date")])],-1),G=e("td",null,[e("span",{class:"active"},"Active")],-1),Q={name:"Loans",props:{activeLoans:Object,loanTypes:Object},setup(m){const _=m,{DataTable:T,options:w}=V();let L=p("");const s=p(_.activeLoans);let l=p(D({loanType:"",member:"",start_date:"",end_date:"",member:""}));const u=()=>{s.value=_.activeLoans,l.value.loanType!=""&&(s.value=s.value.filter(r=>r.loanType.name==l.value.loanType)),l.value.start_date!=""&&(s.value=s.value.filter(r=>r.start_date>=l.value.start_date)),l.value.end_date!=""&&(s.value=s.value.filter(r=>r.start_date<=l.value.end_date))};return(r,a)=>{const k=f("Confirm"),C=f("Main");return i(),M(C,null,{default:h(()=>[e("div",A,[e("div",B,[e("div",F,[e("div",q,[e("div",N,[U,e("div",$,[v(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>n(l).start_date=t),type:"date",style:{width:"150px","border-radius":"3px",height:"35px"},class:"form-control mr-2",onChange:a[1]||(a[1]=t=>u())},null,544),[[y,n(l).start_date]]),v(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>n(l).end_date=t),type:"date",style:{width:"150px","border-radius":"3px",height:"35px"},class:"form-control mr-2",onChange:a[3]||(a[3]=t=>u())},null,544),[[y,n(l).end_date]]),v(e("select",{"onUpdate:modelValue":a[4]||(a[4]=t=>n(l).loanType=t),style:{width:"150px",height:"35px"},class:"form-control",id:"selectcountry",onChange:a[5]||(a[5]=t=>u())},[O,(i(!0),d(g,null,b(m.loanTypes,(t,c)=>(i(),d("option",{value:t,key:c},o(t),9,E))),128))],544),[[S,n(l).loanType]]),e("div",I,[e("a",{class:"iq-bg-primary",href:r.route("pdf.loans"),target:"_blank"}," Print ",8,P)])])]),(i(),d("div",{class:"table-responsive mt-3",key:s.value.length},[x(n(T),{options:n(w),id:"user-list-table",class:"table table-striped table-borderless mt-4",role:"grid","aria-describedby":"user-list-page-info"},{default:h(()=>[z,e("tbody",null,[(i(!0),d(g,null,b(s.value,(t,c)=>(i(),d("tr",{key:c},[e("td",null,o(t.loan_reference_number),1),e("td",null,o(t.user.first_name)+" "+o(t.user.last_name),1),e("td",null,o(t.loanType.name),1),e("td",null,o(t.interest_rate),1),e("td",null,o(t.amount_approved),1),e("td",null,o(t.service_fee),1),G,e("td",null,o(t.start_date.substring(0,10)),1)]))),128))])]),_:1},8,["options"])]))])])])]),x(k,{url:n(L)},null,8,["url"])]),_:1})}}};export{Q as default};
