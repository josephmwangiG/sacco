import{j as A,r as c,u as p,a as C,o as l,c as N,w,b as e,l as o,n as q,F as x,m as B,t as s,s as $,k as g,e as u}from"./app.24fde918.js";import E from"./GuarantorsForm.56bc7b05.js";import F from"./EditApplication.3ea75fee.js";import"./_baseGetTag.7464d959.js";const M={class:"row justify-content-between"},O=e("div",{class:"col-sm-5 col-md-4"},[e("h4",{class:"card-title"},"Guarantors")],-1),P={class:"col-sm-7 col-md-6"},V={class:"user-list-files d-flex float-right"},D=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Print ",-1),G={key:0,class:"table-responsive"},S={id:"user-list-table",class:"table table-striped table-borderless mt-2",role:"grid","aria-describedby":"user-list-page-info"},L=e("thead",null,[e("tr",null,[e("th",null,"Member"),e("th",null,"Ac Number"),e("th",null,"Amount"),e("th",null,"Address"),e("th",null,"Phone"),e("th",null,"Status"),e("th",null,"Action")])],-1),R=e("td",null,[e("span",{class:"active"},"Active")],-1),z={class:"flex align-items-center list-user-action"},H=["onClick"],I=e("i",{class:"ri-pencil-line"},null,-1),J=[I],K=["onClick"],Q=e("i",{class:"ri-delete-bin-line"},null,-1),T=[Q],U={key:1,class:"my-4 text-center"},ee={name:"Guarantors",props:{loanApplication:Object,guarantors:Object,id:Number},setup(n){console.log(n.guarantors);const h=A().props.value.members;let r=c(""),d=c("Create"),m=c(0),_=c(p({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""}));const b=()=>{m.value=0,d.value="Create",_.value=p({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""})},f=a=>{d.value="Edit",m.value=a.id,h.forEach(i=>{i.id==a.member_id&&(_.value=p({id_number:i.id_number,account_number:i.account.account_number,member:a.member_id,notes:a.notes,guarantee_amount:a.guarantee_amount}))})};return(a,i)=>{const v=C("Confirm");return l(),N(F,{loanApplication:n.loanApplication,active:"guarantors"},{default:w(()=>[e("div",M,[O,e("div",P,[e("div",V,[D,n.loanApplication.approved_on==null?(l(),o("a",{key:0,class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:b,href:"javascript:void();"}," New ")):q("",!0)])])]),n.guarantors.length==0?(l(),o("div",G,[e("table",S,[L,e("tbody",null,[(l(!0),o(x,null,B(n.guarantors,(t,k)=>(l(),o("tr",{key:k},[e("td",null,s(t.member.user.first_name)+" "+s(t.member.user.last_name),1),e("td",null,s(t.member.account.account_number),1),e("td",null,s(t.guarantee_amount),1),e("td",null,s(t.member.user.residential_address),1),e("td",null,s(t.member.user.phone),1),R,e("td",null,[e("div",z,[e("a",{class:"iq-bg-primary","data-placement":"top",onClick:y=>f(t),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},J,8,H),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:y=>$(r)?r.value=a.route("loanApplications.delete.guarantors",t.id):r=a.route("loanApplications.delete.guarantors",t.id),"data-original-title":"Delete",href:"#confirm"},T,8,K)])])]))),128))])])])):(l(),o("div",U,"No guarantors added.")),g(v,{url:u(r)},null,8,["url"]),g(E,{m_id:n.loanApplication.member_id,form:u(_),action:u(d),item:u(m),id:n.id},null,8,["m_id","form","action","item","id"])]),_:1},8,["loanApplication"])}}};export{ee as default};
