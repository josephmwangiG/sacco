import{j as f,r as y,o as i,l as m,b as e,t as u,d as g,f as a,v as n,g as q,F as x,m as V,e as U,p as c}from"./app.234aa32e.js";const A={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},D={class:"modal-dialog modal-xl",role:"document"},P={class:"modal-content"},F={class:"modal-header"},N={class:"modal-title",id:"formModal"},k=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),M={class:"modal-body modal-div"},S={class:"new-user-info"},T={class:"row"},I={class:"form-group col-md-4"},E=e("label",{for:"member"},"Names:",-1),L={class:"form-group col-md-4"},w=e("label",{for:"account_number"},"Account No:",-1),B={class:"form-group col-md-4"},C=e("label",{for:"id_number"},"National Id:",-1),R={class:"form-group col-md-4"},j=e("label",{for:"account_number"},"Address:",-1),O={class:"form-group col-md-4"},J=e("label",{for:"email"},"Email:",-1),$={class:"form-group col-md-4"},z=e("label",{for:"email"},"Phone:",-1),G={class:"form-group col-md-4"},H=e("label",{for:"date_became_member"}," Date of Joining:",-1),K=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Loan Details"),e("hr")],-1),Q={class:"form-group col-md-4"},W=e("label",{for:"loan"},"Loan:",-1),X=e("option",{value:"",selected:""},"Select Loan",-1),Y=["value"],Z={key:0,class:"text-danger"},ee={class:"form-group col-md-4"},te=e("label",{for:"interest_type"},"Interest Type:",-1),oe={key:0,class:"text-danger"},le={class:"form-group col-md-4"},ae=e("label",{for:"interest"},"Interest:",-1),se={key:0,class:"text-danger"},ne={class:"form-group col-md-4"},re=e("label",{for:"service_fee"},"Service Fee:",-1),de={class:"form-group col-md-4"},ie=e("label",{for:"amount_applied"},"Amount Applied:",-1),me={key:0,class:"text-danger"},ue={class:"form-group col-md-4"},ce=e("label",{for:"application_date"},"Application Date:",-1),pe={key:0,class:"text-danger"},_e=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Repayment & Penalty"),e("hr")],-1),fe={class:"form-group col-md-4"},ye=e("label",{for:"rpay"},"Repayment Period (Months):",-1),ve={class:"form-group col-md-4"},be=e("label",{for:"payment_frequency"},"Payment Frequency:",-1),he={class:"form-group col-md-4"},ge=e("label",{for:"penalty"}," Penalty Type:",-1),qe={class:"form-group col-md-4"},xe=e("label",{for:"pfre"},"Penalty Frequency:",-1),Ve={class:"form-group col-md-4"},Ue=e("label",{for:"p_value"}," Penalty Amount:",-1),Ae={class:"modal-footer"},De=e("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),Pe={type:"submit",class:"btn btn-primary"},Ne={name:"ApplicationForm",props:{form:Object,action:String,item:Number,memberDetails:Object},setup(l){const r=l;f().props.value.members;const d=y({account:r.memberDetails.account.account_number,id_number:r.memberDetails.id_number,residential_address:r.memberDetails.residential_address,name:r.memberDetails.user.first_name+" "+r.memberDetails.user.last_name,email:r.memberDetails.user.email,phone:r.memberDetails.user.phone,date_became_member:r.memberDetails.date_became_member}),p=f().props.value.loanTypes,s=y({interest:"",penalty:"",p_value:"",service_fee:"",repayment_period:"",payment_frequency:"",penalty_frequency:"",interest_type:""}),v=_=>{p.forEach(t=>{t.id==_.target.value&&(s.value={interest:t.interest_rate,penalty:t.penaltyType.display_name,p_value:t.penalty_value,service_fee:t.service_fee,repayment_period:t.repayment_period,penalty_frequency:t.penaltyFrequency.display_name,payment_frequency:t.paymentFrequency.display_name,interest_type:t.interestType.display_name})})};function b(){r.action=="Edit"?r.form.put(route("u.loanApplications.update",r.item),{onSuccess:()=>{r.form.reset(),document.getElementById("closeModal").click()}}):r.form.post(route("u.loanApplications.store"),{onSuccess:()=>{r.form.reset(),document.getElementById("closeModal").click()}})}return(_,t)=>(i(),m("div",A,[e("div",D,[e("div",P,[e("div",F,[e("h5",N,u(l.action)+" New Loan Application. ",1),k]),e("form",{onSubmit:t[19]||(t[19]=g(o=>b(),["prevent"]))},[e("div",M,[e("div",S,[e("div",T,[e("div",I,[E,a(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>d.value.name=o),class:"form-control",required:"",id:"member",placeholder:"Names"},null,512),[[n,d.value.name]])]),e("div",L,[w,a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>d.value.account=o),class:"form-control",required:"",id:"account_number",placeholder:"Account Number"},null,512),[[n,d.value.account]])]),e("div",B,[C,a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>d.value.id_number=o),class:"form-control",required:"",id:"id_number",placeholder:"National Id"},null,512),[[n,d.value.id_number]])]),e("div",R,[j,a(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>d.value.residential_address=o),class:"form-control",required:"",id:"account_number",placeholder:"Residential Address"},null,512),[[n,d.value.residential_address]])]),e("div",O,[J,a(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>d.value.email=o),class:"form-control",required:"",id:"email",placeholder:"Email"},null,512),[[n,d.value.email]])]),e("div",$,[z,a(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>d.value.phone=o),class:"form-control",required:"",id:"email",placeholder:"Phone Number"},null,512),[[n,d.value.phone]])]),e("div",G,[H,a(e("input",{type:"date",class:"form-control",id:"date_became_member","onUpdate:modelValue":t[6]||(t[6]=o=>d.value.date_became_member=o)},null,512),[[n,d.value.date_became_member]])]),K,e("div",Q,[W,a(e("select",{onChange:t[7]||(t[7]=o=>v(o)),required:"","onUpdate:modelValue":t[8]||(t[8]=o=>l.form.loan_type=o),class:"form-control",id:"loan"},[X,(i(!0),m(x,null,V(U(p),(o,h)=>(i(),m("option",{value:o.id,key:h},u(o.name),9,Y))),128))],544),[[q,l.form.loan_type]]),l.form.errors.loan?(i(),m("div",Z,[e("small",null,u(l.form.errors.loan),1)])):c("",!0)]),e("div",ee,[te,a(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[9]||(t[9]=o=>s.value.interest_type=o),id:"interest_type",placeholder:"Interest Type"},null,512),[[n,s.value.interest_type]]),l.form.errors.interest_type?(i(),m("div",oe,[e("small",null,u(l.form.errors.interest_type),1)])):c("",!0)]),e("div",le,[ae,a(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[10]||(t[10]=o=>s.value.interest=o),id:"interest",placeholder:"interest"},null,512),[[n,s.value.interest]]),l.form.errors.interest?(i(),m("div",se,[e("small",null,u(l.form.errors.Interest),1)])):c("",!0)]),e("div",ne,[re,a(e("input",{type:"text",class:"form-control",id:"service_fee","onUpdate:modelValue":t[11]||(t[11]=o=>s.value.service_fee=o),placeholder:"Service Fee"},null,512),[[n,s.value.service_fee]])]),e("div",de,[ie,a(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[12]||(t[12]=o=>l.form.amount_applied=o),id:"amount_applied",placeholder:"Amount Applied"},null,512),[[n,l.form.amount_applied]]),l.form.errors.amount_applied?(i(),m("div",me,[e("small",null,u(l.form.errors.amount_applied),1)])):c("",!0)]),e("div",ue,[ce,a(e("input",{type:"date",class:"form-control",required:"","onUpdate:modelValue":t[13]||(t[13]=o=>l.form.application_date=o),id:"application_date",placeholder:"application_date"},null,512),[[n,l.form.application_date]]),l.form.errors.application_date?(i(),m("div",pe,[e("small",null,u(l.form.errors.application_date),1)])):c("",!0)]),_e,e("div",fe,[ye,a(e("input",{type:"text",class:"form-control",id:"rpay","onUpdate:modelValue":t[14]||(t[14]=o=>s.value.repayment_period=o),placeholder:"Repayment Period"},null,512),[[n,s.value.repayment_period]])]),e("div",ve,[be,a(e("input",{type:"text",class:"form-control",id:"payment_frequency","onUpdate:modelValue":t[15]||(t[15]=o=>s.value.payment_frequency=o),placeholder:"Payment Frequency"},null,512),[[n,s.value.payment_frequency]])]),e("div",he,[ge,a(e("input",{type:"text",class:"form-control",id:"penalty","onUpdate:modelValue":t[16]||(t[16]=o=>s.value.penalty=o),placeholder:" Penalty Type"},null,512),[[n,s.value.penalty]])]),e("div",qe,[xe,a(e("input",{type:"text",class:"form-control",id:"pfre","onUpdate:modelValue":t[17]||(t[17]=o=>s.value.penalty_frequency=o),placeholder:"Penalty Frequency"},null,512),[[n,s.value.penalty_frequency]])]),e("div",Ve,[Ue,a(e("input",{type:"text",class:"form-control",id:"p_value","onUpdate:modelValue":t[18]||(t[18]=o=>s.value.p_value=o)},null,512),[[n,s.value.p_value]])])])])]),e("div",Ae,[De,e("button",Pe,u(l.action)+" Loan Application ",1)])],32)])])]))}};export{Ne as default};
