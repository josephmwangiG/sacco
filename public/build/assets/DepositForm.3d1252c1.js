import{j as f,o as a,l as r,b as e,t as s,d as q,z as b,f as d,g as h,F as v,m as y,e as g,p as n,v as i}from"./app.c4887df1.js";const B={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},D={class:"modal-dialog modal-lg",role:"document"},V={class:"modal-content"},C={class:"modal-header"},N={class:"modal-title",id:"formModal"},U=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),S={class:"modal-body modal-div"},p={class:"new-user-info"},w={class:"row"},E=e("label",{for:"member"},"Member:",-1),F=["disabled"],I=e("option",{value:""},"Select option",-1),A=["value"],P={key:0,class:"text-danger"},j=e("label",{for:"member_names"},"Member:",-1),L=["disabled","value"],T={class:"form-group col-md-6"},z=e("label",{for:"account_number"},"Ac Number:",-1),O={key:0,class:"text-danger"},K={class:"form-group col-md-6"},$=e("label",{for:"id_number"},"National Id:",-1),G={key:0,class:"text-danger"},H={class:"form-group col-sm-6"},J=e("label",{for:"payment_method"},"Payment Method:",-1),Q=e("option",{value:""},"Select option",-1),R={key:0,class:"text-danger"},W={class:"row collapse",id:"bank_div"},X={class:"form-group col-md-6"},Y=e("label",{for:"bank_name"},"Bank Name:",-1),Z={key:0,class:"text-danger"},ee={class:"form-group col-md-6"},oe=e("label",{for:"bank_branch"},"Bank branch:",-1),te={key:0,class:"text-danger"},le={class:"form-group col-md-6"},ae=e("label",{for:"cheque_date"},"Cheque Date:",-1),re={key:0,class:"text-danger"},se={class:"form-group col-md-6"},ne=e("label",{for:"cheque_number"},"Cheque Number:",-1),de={key:0,class:"text-danger"},me={class:"row"},ie={class:"form-group col-md-6"},ce=e("label",{for:"amount"},"Amount:",-1),ue={key:0,class:"text-danger"},fe={class:"form-group col-md-6"},be=e("label",{for:"payment_date"},"Payment Date:",-1),he={key:0,class:"text-danger"},ve={class:"form-group col-md-12"},ye={class:"form-group"},ge=e("label",{for:"exampleFormControlTextarea1"},"Description",-1),ke={key:0,class:"text-danger"},_e={class:"modal-footer"},xe=e("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),Me={type:"submit",class:"btn btn-primary"},Be={name:"DepositForm",props:{form:Object,action:String,item:Number,hasMember:Boolean,memberDetails:Object},setup(o){const m=o;console.log(m.memberDetails);const k=f().props.value.paymentMethods,u=f().props.value.members,_=c=>{u.forEach(l=>{l.id==c.target.value&&(m.form.id_number=l.id_number,m.form.account_number=l.account.account_number)})},x=c=>{c.target.value=="BANK"?document.getElementById("bank_div").classList.remove("collapse"):document.getElementById("bank_div").classList.add("collapse")};function M(){m.action=="Edit"?m.form.put(route("deposits.update",m.item),{onSuccess:()=>{m.form.reset(),document.getElementById("closeModal").click()}}):m.form.post(route("deposits.store"),{onSuccess:()=>{m.form.reset(),document.getElementById("closeModal").click()}})}return(c,l)=>(a(),r("div",B,[e("div",D,[e("div",V,[e("div",C,[e("h5",N,s(o.action)+" Deposit.",1),U]),e("form",{onSubmit:l[13]||(l[13]=q(t=>M(),["prevent"]))},[e("div",S,[e("div",p,[e("div",w,[e("div",{class:b(["form-group col-sm-6",o.hasMember?"collapse":""])},[E,d(e("select",{required:"",onChange:l[0]||(l[0]=t=>_(t)),"onUpdate:modelValue":l[1]||(l[1]=t=>o.form.member=t),class:"form-control",id:"member",disabled:!!o.hasMember},[I,(a(!0),r(v,null,y(g(u),t=>(a(),r("option",{key:t.id,value:t.id},s(t.first_name)+" "+s(t.last_name),9,A))),128))],40,F),[[h,o.form.member]]),o.form.errors.member?(a(),r("div",P,[e("small",null,s(o.form.errors.member),1)])):n("",!0)],2),o.hasMember?(a(),r("div",{key:0,class:b(["form-group col-md-6",o.hasMember?"":"collapse"])},[j,e("input",{type:"text",class:"form-control",required:"",disabled:!o.hasMember,value:o.memberDetails.first_name+" "+o.memberDetails.last_name,id:"member_names",placeholder:"Member"},null,8,L)],2)):n("",!0),e("div",T,[z,d(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":l[2]||(l[2]=t=>o.form.account_number=t),id:"account_number",placeholder:"Ac Number"},null,512),[[i,o.form.account_number]]),o.form.errors.account_number?(a(),r("div",O,[e("small",null,s(o.form.errors.account_number),1)])):n("",!0)]),e("div",K,[$,d(e("input",{type:"text",class:"form-control",id:"id_number","onUpdate:modelValue":l[3]||(l[3]=t=>o.form.id_number=t),placeholder:"National Id"},null,512),[[i,o.form.id_number]]),o.form.errors.id_number?(a(),r("div",G,[e("small",null,s(o.form.errors.id_number),1)])):n("",!0)]),e("div",H,[J,d(e("select",{required:"","onUpdate:modelValue":l[4]||(l[4]=t=>o.form.payment_method=t),class:"form-control",onChange:l[5]||(l[5]=t=>x(t)),id:"payment_method"},[Q,(a(!0),r(v,null,y(g(k),t=>(a(),r("option",{key:t.id},s(t.name),1))),128))],544),[[h,o.form.payment_method]]),o.form.errors.payment_method?(a(),r("div",R,[e("small",null,s(o.form.errors.payment_method),1)])):n("",!0)])]),e("div",W,[e("div",X,[Y,d(e("input",{type:"text",class:"form-control",id:"bank_name","onUpdate:modelValue":l[6]||(l[6]=t=>o.form.bank_name=t),placeholder:"Bank Name"},null,512),[[i,o.form.bank_name]]),o.form.errors.bank_name?(a(),r("div",Z,[e("small",null,s(o.form.errors.bank_name),1)])):n("",!0)]),e("div",ee,[oe,d(e("input",{type:"text",class:"form-control",id:"bank_branch","onUpdate:modelValue":l[7]||(l[7]=t=>o.form.bank_branch=t),placeholder:"Bank Branch"},null,512),[[i,o.form.bank_branch]]),o.form.errors.bank_branch?(a(),r("div",te,[e("small",null,s(o.form.errors.bank_branch),1)])):n("",!0)]),e("div",le,[ae,d(e("input",{type:"date",class:"form-control",id:"cheque_date","onUpdate:modelValue":l[8]||(l[8]=t=>o.form.cheque_date=t),placeholder:"Cheque Date"},null,512),[[i,o.form.cheque_date]]),o.form.errors.cheque_date?(a(),r("div",re,[e("small",null,s(o.form.errors.cheque_date),1)])):n("",!0)]),e("div",se,[ne,d(e("input",{type:"text",class:"form-control",id:"cheque_number","onUpdate:modelValue":l[9]||(l[9]=t=>o.form.cheque_number=t),placeholder:"Cheque Number"},null,512),[[i,o.form.cheque_number]]),o.form.errors.cheque_number?(a(),r("div",de,[e("small",null,s(o.form.errors.cheque_number),1)])):n("",!0)])]),e("div",me,[e("div",ie,[ce,d(e("input",{type:"text",class:"form-control",id:"amount","onUpdate:modelValue":l[10]||(l[10]=t=>o.form.amount=t),placeholder:"Amount"},null,512),[[i,o.form.amount]]),o.form.errors.amount?(a(),r("div",ue,[e("small",null,s(o.form.errors.amount),1)])):n("",!0)]),e("div",fe,[be,d(e("input",{type:"date",class:"form-control",id:"payment_date","onUpdate:modelValue":l[11]||(l[11]=t=>o.form.payment_date=t),placeholder:"Payment Date"},null,512),[[i,o.form.payment_date]]),o.form.errors.payment_date?(a(),r("div",he,[e("small",null,s(o.form.errors.payment_date),1)])):n("",!0)]),e("div",ve,[e("div",ye,[ge,d(e("textarea",{class:"form-control","onUpdate:modelValue":l[12]||(l[12]=t=>o.form.description=t),placeholder:"Short description",id:"exampleFormControlTextarea1",rows:"4"},null,512),[[i,o.form.description]]),o.form.errors.description?(a(),r("div",ke,[e("small",null,s(o.form.errors.description),1)])):n("",!0)])])])])]),e("div",_e,[xe,e("button",Me,s(o.action)+" Deposit ",1)])],32)])])]))}};export{Be as default};
