import{j as v,r as b,o as d,l as i,b as e,t as m,d as M,f as a,g as h,F as g,m as q,e as x,p as c,v as n}from"./app.a4fe3c50.js";const P={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},k={class:"modal-dialog modal-xl",role:"document"},F={class:"modal-content"},S={class:"modal-header"},N={class:"modal-title",id:"formModal"},T=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),E={class:"modal-body modal-div"},I={class:"new-user-info"},L={class:"row"},w={class:"form-group col-md-4"},B=e("label",{for:"member"},"Member:",-1),C=e("option",{value:"",selected:""},"Select Member",-1),D=["value"],R={key:0,class:"text-danger"},j={class:"form-group col-md-4"},J=e("label",{for:"account_number"},"Account No:",-1),O={class:"form-group col-md-4"},$=e("label",{for:"id_number"},"National Id:",-1),z={class:"form-group col-md-4"},G=e("label",{for:"account_number"},"Address:",-1),H={class:"form-group col-md-4"},K=e("label",{for:"email"},"Email:",-1),Q={class:"form-group col-md-4"},W=e("label",{for:"email"},"Phone:",-1),X={class:"form-group col-md-4"},Y=e("label",{for:"date_became_member"}," Date of Joining:",-1),Z=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Loan Details"),e("hr")],-1),ee={class:"form-group col-md-4"},te=e("label",{for:"loan"},"Loan:",-1),oe=e("option",{value:"",selected:""},"Select Loan",-1),le=["value"],ae={key:0,class:"text-danger"},se={class:"form-group col-md-4"},ne=e("label",{for:"interest_type"},"Interest Type:",-1),re={key:0,class:"text-danger"},de={class:"form-group col-md-4"},ie=e("label",{for:"interest"},"Interest:",-1),me={key:0,class:"text-danger"},ue={class:"form-group col-md-4"},ce=e("label",{for:"service_fee"},"Service Fee:",-1),pe={class:"form-group col-md-4"},_e=e("label",{for:"amount_applied"},"Amount Applied:",-1),fe={key:0,class:"text-danger"},ye={class:"form-group col-md-4"},ve=e("label",{for:"application_date"},"Application Date:",-1),be={key:0,class:"text-danger"},he=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Repayment & Penalty"),e("hr")],-1),ge={class:"form-group col-md-4"},qe=e("label",{for:"rpay"},"Repayment Period (Months):",-1),xe={class:"form-group col-md-4"},Ve=e("label",{for:"payment_frequency"},"Payment Frequency:",-1),Ue={class:"form-group col-md-4"},Ae=e("label",{for:"penalty"}," Penalty Type:",-1),Me={class:"form-group col-md-4"},Pe=e("label",{for:"pfre"},"Penalty Frequency:",-1),ke={class:"form-group col-md-4"},Fe=e("label",{for:"p_value"}," Penalty Amount:",-1),Se={class:"modal-footer"},Ne=e("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),Te={type:"submit",class:"btn btn-primary"},Ie={name:"ApplicationForm",props:{form:Object,action:String,item:Number},setup(l){const u=l,f=v().props.value.members,r=b({account:"",id_number:"",residential_address:"",email:"",phone:"",date_became_member:""}),y=v().props.value.loanTypes,s=b({interest:"",penalty:"",p_value:"",service_fee:"",repayment_period:"",payment_frequency:"",penalty_frequency:"",interest_type:""}),V=p=>{f.forEach(t=>{t.id==p.target.value&&(r.value={account:t.account.account_number,id_number:t.id_number,residential_address:t.residential_address,email:t.email,phone:t.phone,date_became_member:t.date_became_member})})},U=p=>{y.forEach(t=>{t.id==p.target.value&&(s.value={interest:t.interest_rate,penalty:t.penaltyType.display_name,p_value:t.penalty_value,service_fee:t.service_fee,repayment_period:t.repayment_period,penalty_frequency:t.penaltyFrequency.display_name,payment_frequency:t.paymentFrequency.display_name,interest_type:t.interestType.display_name})})};function A(){u.action=="Edit"?u.form.put(route("loanApplications.update",u.item),{onSuccess:()=>{u.form.reset(),document.getElementById("closeModal").click()}}):u.form.post(route("loanApplications.store"),{onSuccess:()=>{u.form.reset(),document.getElementById("closeModal").click()}})}return(p,t)=>(d(),i("div",P,[e("div",k,[e("div",F,[e("div",S,[e("h5",N,m(l.action)+" New Loan Application. ",1),T]),e("form",{onSubmit:t[20]||(t[20]=M(o=>A(),["prevent"]))},[e("div",E,[e("div",I,[e("div",L,[e("div",w,[B,a(e("select",{required:"",onChange:t[0]||(t[0]=o=>V(o)),"onUpdate:modelValue":t[1]||(t[1]=o=>l.form.member=o),class:"form-control",id:"member"},[C,(d(!0),i(g,null,q(x(f),(o,_)=>(d(),i("option",{value:o.id,key:_},m(o.first_name)+" "+m(o.last_name),9,D))),128))],544),[[h,l.form.member]]),l.form.errors.member?(d(),i("div",R,[e("small",null,m(l.form.errors.member),1)])):c("",!0)]),e("div",j,[J,a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>r.value.account=o),class:"form-control",required:"",id:"account_number",placeholder:"Account Number"},null,512),[[n,r.value.account]])]),e("div",O,[$,a(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>r.value.id_number=o),class:"form-control",required:"",id:"id_number",placeholder:"National Id"},null,512),[[n,r.value.id_number]])]),e("div",z,[G,a(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>r.value.residential_address=o),class:"form-control",required:"",id:"account_number",placeholder:"Residential Address"},null,512),[[n,r.value.residential_address]])]),e("div",H,[K,a(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>r.value.email=o),class:"form-control",required:"",id:"email",placeholder:"Email"},null,512),[[n,r.value.email]])]),e("div",Q,[W,a(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>r.value.phone=o),class:"form-control",required:"",id:"email",placeholder:"Phone Number"},null,512),[[n,r.value.phone]])]),e("div",X,[Y,a(e("input",{type:"date",class:"form-control",id:"date_became_member","onUpdate:modelValue":t[7]||(t[7]=o=>r.value.date_became_member=o)},null,512),[[n,r.value.date_became_member]])]),Z,e("div",ee,[te,a(e("select",{onChange:t[8]||(t[8]=o=>U(o)),required:"","onUpdate:modelValue":t[9]||(t[9]=o=>l.form.loan_type=o),class:"form-control",id:"loan"},[oe,(d(!0),i(g,null,q(x(y),(o,_)=>(d(),i("option",{value:o.id,key:_},m(o.name),9,le))),128))],544),[[h,l.form.loan_type]]),l.form.errors.loan?(d(),i("div",ae,[e("small",null,m(l.form.errors.loan),1)])):c("",!0)]),e("div",se,[ne,a(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[10]||(t[10]=o=>s.value.interest_type=o),id:"interest_type",placeholder:"Interest Type"},null,512),[[n,s.value.interest_type]]),l.form.errors.interest_type?(d(),i("div",re,[e("small",null,m(l.form.errors.interest_type),1)])):c("",!0)]),e("div",de,[ie,a(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[11]||(t[11]=o=>s.value.interest=o),id:"interest",placeholder:"interest"},null,512),[[n,s.value.interest]]),l.form.errors.interest?(d(),i("div",me,[e("small",null,m(l.form.errors.Interest),1)])):c("",!0)]),e("div",ue,[ce,a(e("input",{type:"text",class:"form-control",id:"service_fee","onUpdate:modelValue":t[12]||(t[12]=o=>s.value.service_fee=o),placeholder:"Service Fee"},null,512),[[n,s.value.service_fee]])]),e("div",pe,[_e,a(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[13]||(t[13]=o=>l.form.amount_applied=o),id:"amount_applied",placeholder:"Amount Applied"},null,512),[[n,l.form.amount_applied]]),l.form.errors.amount_applied?(d(),i("div",fe,[e("small",null,m(l.form.errors.amount_applied),1)])):c("",!0)]),e("div",ye,[ve,a(e("input",{type:"date",class:"form-control",required:"","onUpdate:modelValue":t[14]||(t[14]=o=>l.form.application_date=o),id:"application_date",placeholder:"application_date"},null,512),[[n,l.form.application_date]]),l.form.errors.application_date?(d(),i("div",be,[e("small",null,m(l.form.errors.application_date),1)])):c("",!0)]),he,e("div",ge,[qe,a(e("input",{type:"text",class:"form-control",id:"rpay","onUpdate:modelValue":t[15]||(t[15]=o=>s.value.repayment_period=o),placeholder:"Repayment Period"},null,512),[[n,s.value.repayment_period]])]),e("div",xe,[Ve,a(e("input",{type:"text",class:"form-control",id:"payment_frequency","onUpdate:modelValue":t[16]||(t[16]=o=>s.value.payment_frequency=o),placeholder:"Payment Frequency"},null,512),[[n,s.value.payment_frequency]])]),e("div",Ue,[Ae,a(e("input",{type:"text",class:"form-control",id:"penalty","onUpdate:modelValue":t[17]||(t[17]=o=>s.value.penalty=o),placeholder:" Penalty Type"},null,512),[[n,s.value.penalty]])]),e("div",Me,[Pe,a(e("input",{type:"text",class:"form-control",id:"pfre","onUpdate:modelValue":t[18]||(t[18]=o=>s.value.penalty_frequency=o),placeholder:"Penalty Frequency"},null,512),[[n,s.value.penalty_frequency]])]),e("div",ke,[Fe,a(e("input",{type:"text",class:"form-control",id:"p_value","onUpdate:modelValue":t[19]||(t[19]=o=>s.value.p_value=o)},null,512),[[n,s.value.p_value]])])])])]),e("div",Se,[Ne,e("button",Te,m(l.action)+" Loan Application ",1)])],32)])])]))}};export{Ie as default};
