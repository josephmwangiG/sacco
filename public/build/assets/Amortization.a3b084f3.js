import{r as f,o as _,l as y,b as e,e as b,F as L,m as g,n as F,t as c}from"./app.24fde918.js";const D={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},S={class:"modal-dialog modal-lg",role:"document"},x={class:"modal-content"},k=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"formModal"}," Loan Amortization Schedule. "),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),M={class:"modal-body modal-div"},B={class:"table-responsive"},N={id:"user-list-table",class:"table table-striped table-borderless mt-2",role:"grid"},U=e("thead",null,[e("tr",null,[e("th",null,"Period"),e("th",null,"Due Date"),e("th",null,"Payment"),e("th",null,"Interest"),e("th",null,"Principle"),e("th",null,"Balance")])],-1),q={key:0},w=e("div",{class:"modal-footer"},[e("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close "),e("button",{type:"submit",class:"btn btn-primary"},"Download")],-1),P={name:"Amortization",props:{activeLoan:Object},setup(v){const i=v;let d=f("");return(()=>{let o=0,m=i.activeLoan.payment_sum,t=0,r=0;const u=i.activeLoan.repayment_period/12,p=i.activeLoan.paymentFrequency.display_name;if(p=="Annually"?o=1:p=="semi_annualy"?o=2:p=="quaterly"?o=4:p=="Monthly"?o=12:p=="Weekly"?o=52.1786:p=="daily"&&(o=365),d.value={principle:t,amount_applied:i.activeLoan.amount_approved,periods:o,payments:[]},t=i.activeLoan.amount_approved,i.activeLoan.interestType.display_name=="Fixed Rate"){let n=t*(i.activeLoan.interest_rate/100)*u,a=Number(t)+Number(n),s=a/(o*u),l=n/(o*u);for(let h=1;h<=i.activeLoan.repayment_period;h++)d.value.payments.push({period:h,principle:a,payment_per_month:s,payment_amount:s,payments:m+s,interest:r+l,interest_amount:l}),t=a-s,a=t,m=m+s,r=r+l}else{let n=t/(o*u),a=t*(1+i.activeLoan.interest_rate/100/12);for(let s=1;s<=i.activeLoan.repayment_period;s++){t<n&&d.value.payments.push({period:s,principle:a,payment_per_month:n,payment_amount:n+a-t,payments:m+n+a-t,interest:r+a-t,interest_amount:a-t});let l=a-t;d.value.payments.push({period:s,principle:a,payment_per_month:n,payment_amount:n+l,payments:m+n+l,interest:r+l,interest_amount:l}),t=a-(n+l),a=t*(1+i.activeLoan.interest_rate/100/12),m=m+n+l,r=r+l}}})(),(o,m)=>(_(),y("div",D,[e("div",S,[e("div",x,[k,e("div",M,[e("div",B,[e("table",N,[U,b(d)!=""?(_(),y("tbody",q,[(_(!0),y(L,null,g(b(d).payments,(t,r)=>(_(),y("tr",{key:r},[e("td",null,c(t.period),1),e("td",null,c(v.activeLoan.start_date),1),e("td",null,c(t.payment_amount.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})+"0"),1),e("td",null,c(t.interest_amount.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})+"0"),1),e("td",null,c(t.principle.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})+"0"),1),e("td",null,c((t.principle-t.payment_amount).toLocaleString("en-Us",{minimumFractionDigits:1,maximumFractionDigits:1})+"0"),1)]))),128))])):F("",!0)])])]),w])])]))}};export{P as default};
