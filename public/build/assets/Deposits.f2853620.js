import{j as L,r as o,u as b,q as P,a as f,o as r,c as B,w as T,b as e,f as E,v as F,e as c,s as g,l as m,m as y,t as s,F as k,k as v,x as I}from"./app.3bfe1e0a.js";import N from"./DepositForm.d81880e7.js";import{d as V}from"./debounce.c7cd0eea.js";import"./_baseGetTag.02f7d89e.js";const H={class:"row"},O={class:"col-sm-12"},R={class:"iq-card"},$=e("div",{class:"iq-card-header d-flex justify-content-between"},[e("div",{class:"iq-header-title"},[e("h4",{class:"card-title"},"Deposits")])],-1),U={class:"iq-card-body"},z={class:"row justify-content-between"},G={class:"col-sm-12 col-md-5"},J={id:"user_list_datatable_info",class:"dataTables_filter"},K={class:"mr-3 position-relative"},Q={class:"form-group mb-0"},W=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Print ",-1),X=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Excel ",-1),Y=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Pdf ",-1),Z={class:"table-responsive"},j={id:"user-list-table",class:"table table-striped table-borderless mt-4",role:"grid","aria-describedby":"user-list-page-info"},ee=e("thead",null,[e("tr",null,[e("th",null,"Receipt"),e("th",null,"Member"),e("th",null,"Payment Date"),e("th",null,"Method"),e("th",null,"Amount"),e("th",null,"Status"),e("th",null,"Action")])],-1),te=e("td",null,[e("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),ae={class:"flex align-items-center list-user-action"},se=["onClick"],ie=e("i",{class:"ri-pencil-line"},null,-1),ne=[ie],le=["onClick"],oe=e("i",{class:"ri-delete-bin-line"},null,-1),re=[oe],ce={class:"row justify-content-between mt-3"},de={id:"user-list-page-info",class:"col-md-6"},me={class:"col-md-6"},ue={"aria-label":"Page navigation example"},_e={class:"pagination justify-content-end mb-0"},ve={name:"Deposits",props:{deposits:Object,filters:Object},setup(i){const q=i,w=L().props.value.members;let n=o(q.filters.search),d=o(""),u=o("Add"),_=o(0),h=o(b({member:"",amount:"",payment_method:"",payment_date:"",description:"",account_number:"",id_number:"",bank_name:"",bank_branch:"",cheque_date:"",cheque_number:""}));const x=()=>{_.value=0,u.value="Add",h.value=b({member:"",amount:"",payment_method:"",payment_date:"",description:"",account_number:"",id_number:"",bank_name:"",bank_branch:"",cheque_date:"",cheque_number:""})},C=t=>{u.value="Edit",_.value=t.id,w.filter(l=>{if(t.member_id==l.id&&t.id)return l}),h.value=b({member:t.member_id,amount:t.amount,id_number:t.member.id_number,account_number:t.member.account.account_number,payment_method:t.method_id,payment_date:t.payment_date,description:t.notes,bank_name:t.bank_name,bank_branch:t.bank_branch,cheque_date:t.cheque_date,cheque_number:t.cheque_number})};return P(n,V(t=>{I.Inertia.get(route("deposits.index"),{search:n.value},{preserveState:!0,replace:!0})},500)),(t,l)=>{const M=f("Link"),D=f("Confirm"),S=f("Main");return r(),B(S,null,{default:T(()=>[e("div",H,[e("div",O,[e("div",R,[$,e("div",U,[e("div",z,[e("div",G,[e("div",J,[e("form",K,[e("div",Q,[E(e("input",{type:"search","onUpdate:modelValue":l[0]||(l[0]=a=>g(n)?n.value=a:n=a),class:"form-control",id:"exampleInputSearch",placeholder:"Search","aria-controls":"user-list-table"},null,512),[[F,c(n)]])])])])]),e("div",{class:"col-sm-12 col-md-7"},[e("div",{class:"user-list-files d-flex float-right"},[W,X,Y,e("a",{class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:x,href:"javascript:void();"}," New ")])])]),e("div",Z,[e("table",j,[ee,e("tbody",null,[(r(!0),m(k,null,y(i.deposits.data,(a,p)=>(r(),m("tr",{key:p},[e("td",null,s(a.receipt_number),1),e("td",null,s(a.member.first_name)+" "+s(a.member.last_name),1),e("td",null,s(a.payment_date),1),e("td",null,s(a.method_id),1),e("td",null,s(a.amount),1),te,e("td",null,[e("div",ae,[e("a",{class:"iq-bg-primary","data-placement":"top",onClick:A=>C(a),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},ne,8,se),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:A=>g(d)?d.value=t.route("deposits.destroy",a.id):d=t.route("deposits.destroy",a.id),"data-original-title":"Delete",href:"#confirm"},re,8,le)])])]))),128))])])]),e("div",ce,[e("div",de,[e("span",null,"Showing 1 to "+s(i.deposits.total>10?"10":i.deposits.total)+" of "+s(i.deposits.total)+" entries",1)]),e("div",me,[e("nav",ue,[e("ul",_e,[(r(!0),m(k,null,y(i.deposits.links,(a,p)=>(r(),m("li",{class:"page-item active",key:p},[v(M,{class:"page-link",href:a.url,innerHTML:a.label},null,8,["href","innerHTML"])]))),128))])])])])])])])]),v(D,{url:c(d)},null,8,["url"]),v(N,{form:c(h),action:c(u),item:c(_)},null,8,["form","action","item"])]),_:1})}}};export{ve as default};
