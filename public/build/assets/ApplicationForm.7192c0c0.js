import{j as f,r as y,o as i,l as m,b as e,d as g,f as l,v as r,g as x,F as q,m as V,e as U,t as u,p}from"./app.dc7518d1.js";const A={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},D={class:"modal-dialog modal-xl",role:"document"},P={class:"modal-content"},F=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"formModal"},"New Loan Application."),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),N={class:"modal-body modal-div"},k={class:"new-user-info"},M={class:"row"},S={class:"form-group col-md-4"},T=e("label",{for:"member"},"Names:",-1),I={class:"form-group col-md-4"},E=e("label",{for:"account_number"},"Account No:",-1),L={class:"form-group col-md-4"},w=e("label",{for:"id_number"},"National Id:",-1),B={class:"form-group col-md-4"},C=e("label",{for:"address"},"Address:",-1),R={class:"form-group col-md-4"},j=e("label",{for:"email"},"Email:",-1),O={class:"form-group col-md-4"},J=e("label",{for:"email"},"Phone:",-1),$={class:"form-group col-md-4"},z=e("label",{for:"date_became_member"}," Date of Joining:",-1),G=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Loan Details"),e("hr")],-1),H={class:"form-group col-md-4"},K=e("label",{for:"loan"},"Loan:",-1),Q=e("option",{value:"",selected:""},"Select Loan",-1),W=["value"],X={key:0,class:"text-danger"},Y={class:"form-group col-md-4"},Z=e("label",{for:"interest_type"},"Interest Type:",-1),ee={key:0,class:"text-danger"},te={class:"form-group col-md-4"},oe=e("label",{for:"interest"},"Interest:",-1),le={key:0,class:"text-danger"},ae={class:"form-group col-md-4"},se=e("label",{for:"service_fee"},"Service Fee:",-1),re={class:"form-group col-md-4"},ne=e("label",{for:"amount_applied"},"Amount Applied:",-1),de={key:0,class:"text-danger"},ie={class:"form-group col-md-4"},me=e("label",{for:"application_date"},"Application Date:",-1),ue={key:0,class:"text-danger"},pe=e("div",{class:"col-12 mt-3 text-primary"},[e("h6",null,"Repayment & Penalty"),e("hr")],-1),ce={class:"form-group col-md-4"},_e=e("label",{for:"rpay"},"Repayment Period (Months):",-1),fe={class:"form-group col-md-4"},ye=e("label",{for:"payment_frequency"},"Payment Frequency:",-1),ve={class:"form-group col-md-4"},be=e("label",{for:"penalty"}," Penalty Type:",-1),he={class:"form-group col-md-4"},ge=e("label",{for:"pfre"},"Penalty Frequency:",-1),xe={class:"form-group col-md-4"},qe=e("label",{for:"p_value"}," Penalty Amount:",-1),Ve=e("div",{class:"modal-footer"},[e("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close "),e("button",{type:"submit",class:"btn btn-primary"}," Apply for Loan ")],-1),Ae={name:"ApplicationForm",props:{form:Object,action:String,item:Number,memberDetails:Object},setup(a){const n=a;f().props.value.members;const d=y({account:n.memberDetails.account.account_number,id_number:n.memberDetails.id_number,residential_address:n.memberDetails.residential_address,name:n.memberDetails.user.first_name+" "+n.memberDetails.user.last_name,email:n.memberDetails.user.email,phone:n.memberDetails.user.phone,date_became_member:n.memberDetails.date_became_member}),c=f().props.value.loanTypes,s=y({interest:"",penalty:"",p_value:"",service_fee:"",repayment_period:"",payment_frequency:"",penalty_frequency:"",interest_type:""}),v=_=>{c.forEach(t=>{t.id==_.target.value&&(s.value={interest:t.interest_rate,penalty:t.penaltyType.display_name,p_value:t.penalty_value,service_fee:t.service_fee,repayment_period:t.repayment_period,penalty_frequency:t.penaltyFrequency.display_name,payment_frequency:t.paymentFrequency.display_name,interest_type:t.interestType.display_name})})};function b(){console.log(n.action),n.action=="Edit"?n.form.put(route("u.loanApplications.update",n.item),{onSuccess:()=>{n.form.reset(),document.getElementById("closeModal").click()}}):n.form.post(route("u.loanApplications.store"),{onSuccess:()=>{n.form.reset(),document.getElementById("closeModal").click()}})}return(_,t)=>(i(),m("div",A,[e("div",D,[e("div",P,[F,e("form",{onSubmit:t[19]||(t[19]=g(o=>b(),["prevent"]))},[e("div",N,[e("div",k,[e("div",M,[e("div",S,[T,l(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>d.value.name=o),class:"form-control",required:"",id:"member",placeholder:"Names"},null,512),[[r,d.value.name]])]),e("div",I,[E,l(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>d.value.account=o),class:"form-control",required:"",id:"account_number",placeholder:"Account Number"},null,512),[[r,d.value.account]])]),e("div",L,[w,l(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>d.value.id_number=o),class:"form-control",required:"",id:"id_number",placeholder:"National Id"},null,512),[[r,d.value.id_number]])]),e("div",B,[C,l(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>d.value.residential_address=o),class:"form-control",id:"address",placeholder:"Residential Address"},null,512),[[r,d.value.residential_address]])]),e("div",R,[j,l(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>d.value.email=o),class:"form-control",required:"",id:"email",placeholder:"Email"},null,512),[[r,d.value.email]])]),e("div",O,[J,l(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>d.value.phone=o),class:"form-control",required:"",id:"email",placeholder:"Phone Number"},null,512),[[r,d.value.phone]])]),e("div",$,[z,l(e("input",{type:"date",class:"form-control",id:"date_became_member","onUpdate:modelValue":t[6]||(t[6]=o=>d.value.date_became_member=o)},null,512),[[r,d.value.date_became_member]])]),G,e("div",H,[K,l(e("select",{onChange:t[7]||(t[7]=o=>v(o)),required:"","onUpdate:modelValue":t[8]||(t[8]=o=>a.form.loan_type=o),class:"form-control",id:"loan"},[Q,(i(!0),m(q,null,V(U(c),(o,h)=>(i(),m("option",{value:o.id,key:h},u(o.name),9,W))),128))],544),[[x,a.form.loan_type]]),a.form.errors.loan?(i(),m("div",X,[e("small",null,u(a.form.errors.loan),1)])):p("",!0)]),e("div",Y,[Z,l(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[9]||(t[9]=o=>s.value.interest_type=o),id:"interest_type",placeholder:"Interest Type"},null,512),[[r,s.value.interest_type]]),a.form.errors.interest_type?(i(),m("div",ee,[e("small",null,u(a.form.errors.interest_type),1)])):p("",!0)]),e("div",te,[oe,l(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[10]||(t[10]=o=>s.value.interest=o),id:"interest",placeholder:"interest"},null,512),[[r,s.value.interest]]),a.form.errors.interest?(i(),m("div",le,[e("small",null,u(a.form.errors.Interest),1)])):p("",!0)]),e("div",ae,[se,l(e("input",{type:"text",class:"form-control",id:"service_fee","onUpdate:modelValue":t[11]||(t[11]=o=>s.value.service_fee=o),placeholder:"Service Fee"},null,512),[[r,s.value.service_fee]])]),e("div",re,[ne,l(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[12]||(t[12]=o=>a.form.amount_applied=o),id:"amount_applied",placeholder:"Amount Applied"},null,512),[[r,a.form.amount_applied]]),a.form.errors.amount_applied?(i(),m("div",de,[e("small",null,u(a.form.errors.amount_applied),1)])):p("",!0)]),e("div",ie,[me,l(e("input",{type:"date",class:"form-control",required:"","onUpdate:modelValue":t[13]||(t[13]=o=>a.form.application_date=o),id:"application_date",placeholder:"application_date"},null,512),[[r,a.form.application_date]]),a.form.errors.application_date?(i(),m("div",ue,[e("small",null,u(a.form.errors.application_date),1)])):p("",!0)]),pe,e("div",ce,[_e,l(e("input",{type:"text",class:"form-control",id:"rpay","onUpdate:modelValue":t[14]||(t[14]=o=>s.value.repayment_period=o),placeholder:"Repayment Period"},null,512),[[r,s.value.repayment_period]])]),e("div",fe,[ye,l(e("input",{type:"text",class:"form-control",id:"payment_frequency","onUpdate:modelValue":t[15]||(t[15]=o=>s.value.payment_frequency=o),placeholder:"Payment Frequency"},null,512),[[r,s.value.payment_frequency]])]),e("div",ve,[be,l(e("input",{type:"text",class:"form-control",id:"penalty","onUpdate:modelValue":t[16]||(t[16]=o=>s.value.penalty=o),placeholder:" Penalty Type"},null,512),[[r,s.value.penalty]])]),e("div",he,[ge,l(e("input",{type:"text",class:"form-control",id:"pfre","onUpdate:modelValue":t[17]||(t[17]=o=>s.value.penalty_frequency=o),placeholder:"Penalty Frequency"},null,512),[[r,s.value.penalty_frequency]])]),e("div",xe,[qe,l(e("input",{type:"text",class:"form-control",id:"p_value","onUpdate:modelValue":t[18]||(t[18]=o=>s.value.p_value=o)},null,512),[[r,s.value.p_value]])])])])]),Ve],32)])])]))}};export{Ae as default};
