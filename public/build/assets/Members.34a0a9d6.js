import{r as n,u as f,q as B,a as b,o,c as L,w as y,b as t,f as N,v as A,e as r,s as k,l as c,m as q,t as a,k as _,F as w,x as D}from"./app.1732e059.js";import P from"./MemberForm.e8a68bce.js";import{d as T}from"./debounce.b2157bcb.js";import"./_baseGetTag.90041363.js";const E={class:"row"},F={class:"col-sm-12"},O={class:"iq-card"},V=t("div",{class:"iq-card-header d-flex justify-content-between"},[t("div",{class:"iq-header-title"},[t("h4",{class:"card-title"},"Members")])],-1),H={class:"iq-card-body"},I={class:"row justify-content-between"},$={class:"col-sm-12 col-md-5"},J={id:"user_list_datatable_info",class:"dataTables_filter"},R={class:"mr-3 position-relative"},U={class:"form-group mb-0"},z=t("a",{class:"iq-bg-primary",href:"javascript:void();"}," Print ",-1),G=t("a",{class:"iq-bg-primary",href:"javascript:void();"}," Excel ",-1),K=t("a",{class:"iq-bg-primary",href:"javascript:void();"}," Pdf ",-1),Q={class:"table-responsive"},W={id:"user-list-table",class:"table table-striped table-borderless mt-4",role:"grid","aria-describedby":"user-list-page-info"},X=t("thead",null,[t("tr",null,[t("th",null,"Ac Number"),t("th",null,"Member"),t("th",null,"Branch"),t("th",null,"Phone Number"),t("th",null,"Address"),t("th",null,"Status"),t("th",null,"Date Joined"),t("th",null,"Action")])],-1),Y=t("td",null,[t("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),Z={class:"flex align-items-center list-user-action"},tt=t("i",{class:"ri-pencil-line"},null,-1),et=["onClick"],st=t("i",{class:"ri-delete-bin-line"},null,-1),at=[st],it={class:"row justify-content-between mt-3"},lt={id:"user-list-page-info",class:"col-md-6"},nt={class:"col-md-6"},ot={"aria-label":"Page navigation example"},rt={class:"pagination justify-content-end mb-0"},ht={name:"Members",props:{members:Object,filters:Object},setup(i){let l=n(i.filters.search),d=n(""),u=n("Create"),m=n(0),h=n(f({branch_id:"",assigned_to:"",first_name:"",last_name:"",date_of_birth:"",nationality:"",county:"",city:"",id_number:"",passport_number:"",phone:"",email:"",postal_address:"",residential_address:"",status_id:"",passport_photo:"",extra_images:"",membership_form:"",date_became_member:"date_became_member"}));const j=()=>{m.value=0,u.value="Create",h.value=f({assigned_to:"",first_name:"",last_name:"",date_of_birth:"",nationality:"",county:"",city:"",id_number:"",passport_number:"",phone:"",email:"",date_became_member:"",postal_address:"",residential_address:"",status_id:""})},C=e=>{u.value="Edit",m.value=e.id,h.value=f({member_id:e.member,first_name:e.first_name,last_name:e.last_name,date_of_birth:e.date_of_birth,date_became_member:e.date_became_member,nationality:e.nationality,county:e.county,city:e.city,id_number:e.id_number,passport_number:e.passport_number,phone:e.phone,email:e.email,postal_address:e.postal_address,residential_address:e.residential_address,status_id:e.status_id})};return B(l,T(e=>{D.Inertia.get(route("members.index"),{search:l.value},{preserveState:!0,replace:!0})},500)),(e,v)=>{const g=b("Link"),x=b("Confirm"),M=b("Main");return o(),L(M,null,{default:y(()=>[t("div",E,[t("div",F,[t("div",O,[V,t("div",H,[t("div",I,[t("div",$,[t("div",J,[t("form",R,[t("div",U,[N(t("input",{type:"search","onUpdate:modelValue":v[0]||(v[0]=s=>k(l)?l.value=s:l=s),class:"form-control",id:"exampleInputSearch",placeholder:"Search","aria-controls":"user-list-table"},null,512),[[A,r(l)]])])])])]),t("div",{class:"col-sm-12 col-md-7"},[t("div",{class:"user-list-files d-flex float-right"},[z,G,K,t("a",{class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:j,href:"javascript:void();"}," New ")])])]),t("div",Q,[t("table",W,[X,t("tbody",null,[(o(!0),c(w,null,q(i.members.data,(s,p)=>(o(),c("tr",{key:p},[t("td",null,a(s.account.account_number),1),t("td",null,a(s.first_name)+" "+a(s.last_name),1),t("td",null,a(s.branch.name),1),t("td",null,a(s.phone),1),t("td",null,a(s.city)+", "+a(s.nationality),1),Y,t("td",null,a(s.date_became_member.substring(0,10)),1),t("td",null,[t("div",Z,[_(g,{class:"iq-bg-primary",onClick:S=>C(s),href:e.route("members.edit",s.id)},{default:y(()=>[tt]),_:2},1032,["onClick","href"]),t("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:S=>k(d)?d.value=e.route("members.destroy",s.id):d=e.route("members.destroy",s.id),"data-original-title":"Delete",href:"#confirm"},at,8,et)])])]))),128))])])]),t("div",it,[t("div",lt,[t("span",null,"Showing 1 to "+a(i.members.total>10?"10":i.members.total)+" of "+a(i.members.total)+" entries",1)]),t("div",nt,[t("nav",ot,[t("ul",rt,[(o(!0),c(w,null,q(i.members.links,(s,p)=>(o(),c("li",{class:"page-item active",key:p},[_(g,{class:"page-link",href:s.url,innerHTML:s.label},null,8,["href","innerHTML"])]))),128))])])])])])])])]),_(x,{url:r(d)},null,8,["url"]),_(P,{form:r(h),action:r(u),item:r(m)},null,8,["form","action","item"])]),_:1})}}};export{ht as default};
