import{j as C,r as o,u as _,a as A,o as i,c as q,w as N,b as e,l as p,p as w,m as x,t as s,s as B,F as E,k as h,e as c}from"./app.234aa32e.js";import P from"./GuarantorsForm.09bbbcd5.js";import $ from"./EditApplication.d446aa51.js";import"./_baseGetTag.00ecdde4.js";const D={class:"row justify-content-between"},F=e("div",{class:"col-sm-5 col-md-4"},[e("h4",{class:"card-title"},"Guarantors")],-1),M={class:"col-sm-7 col-md-6"},O={class:"user-list-files d-flex float-right"},V=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Print ",-1),G=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Excel ",-1),S=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Pdf ",-1),J={class:"table-responsive"},L={id:"user-list-table",class:"table table-striped table-borderless mt-2",role:"grid","aria-describedby":"user-list-page-info"},R=e("thead",null,[e("tr",null,[e("th",null,"Member"),e("th",null,"Ac Number"),e("th",null,"Amount"),e("th",null,"Address"),e("th",null,"Phone"),e("th",null,"Status"),e("th",null,"Join Date"),e("th",null,"Action")])],-1),z=e("td",null,[e("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),H={class:"flex align-items-center list-user-action"},I=["onClick"],K=e("i",{class:"ri-pencil-line"},null,-1),Q=[K],T=["onClick"],U=e("i",{class:"ri-delete-bin-line"},null,-1),W=[U],te={name:"Guarantors",props:{loanApplication:Object,guarantors:Object,id:Number},setup(n){console.log(n.guarantors);const g=C().props.value.members;let r=o(""),d=o("Create"),u=o(0),m=o(_({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""}));const b=()=>{u.value=0,d.value="Create",m.value=_({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""})},f=a=>{d.value="Edit",u.value=a.id,g.forEach(l=>{l.id==a.member_id&&(m.value=_({id_number:l.id_number,account_number:l.account.account_number,member:a.member_id,notes:a.notes,guarantee_amount:a.guarantee_amount}))})};return(a,l)=>{const v=A("Confirm");return i(),q($,{id:n.id,active:"guarantors"},{default:N(()=>[e("div",D,[F,e("div",M,[e("div",O,[V,G,S,n.loanApplication.approved_on==null?(i(),p("a",{key:0,class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:b,href:"javascript:void();"}," New ")):w("",!0)])])]),e("div",J,[e("table",L,[R,e("tbody",null,[(i(!0),p(E,null,x(n.guarantors,(t,y)=>(i(),p("tr",{key:y},[e("td",null,s(t.member.user.first_name)+" "+s(t.member.user.last_name),1),e("td",null,s(t.member.account.account_number),1),e("td",null,s(t.guarantee_amount),1),e("td",null,s(t.member.user.residential_address),1),e("td",null,s(t.member.user.phone),1),z,e("td",null,s(t.member.date_became_member.substring(0,10)),1),e("td",null,[e("div",H,[e("a",{class:"iq-bg-primary","data-placement":"top",onClick:k=>f(t),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},Q,8,I),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:k=>B(r)?r.value=a.route("loanApplications.delete.guarantors",t.id):r=a.route("loanApplications.delete.guarantors",t.id),"data-original-title":"Delete",href:"#confirm"},W,8,T)])])]))),128))])])]),h(v,{url:c(r)},null,8,["url"]),h(P,{form:c(m),action:c(d),item:c(u),id:n.id},null,8,["form","action","item","id"])]),_:1},8,["id"])}}};export{te as default};
