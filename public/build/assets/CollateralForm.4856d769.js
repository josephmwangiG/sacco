import{j as f,o as l,l as n,b as t,t as r,d as b,f as i,g as _,F as h,m as g,p as m,v as u}from"./app.8c14ce0c.js";const y={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},p={class:"modal-dialog modal-lg",role:"document"},x={class:"modal-content"},M={class:"modal-header"},V={class:"modal-title",id:"formModal"},k=t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),A={class:"modal-body modal-div"},C={class:"new-user-info"},S={class:"row"},E={class:"form-group col-sm-6"},N=t("label",{for:"asset"},"Asset:",-1),B=t("option",{value:""},"Select Asset",-1),w=["value"],F={key:0,class:"text-danger"},U={class:"form-group col-md-6"},j=t("label",{for:"asset_number"},"Asset Number:",-1),I={key:0,class:"text-danger"},q={class:"form-group col-md-6"},D=t("label",{for:"valuation_amount"},"Valuation Amount:",-1),O={key:0,class:"text-danger"},L={class:"form-group col-md-6"},P=t("label",{for:"valuation_date"},"Valuation date:",-1),T={key:0,class:"text-danger"},$={class:"modal-footer"},z=t("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),G={type:"submit",class:"btn btn-primary"},K={name:"CollateralForm",props:{form:Object,assets:Object,action:String,item:Number,id:Number},emits:["getItems"],setup(o,{emit:H}){const s=o;f().props.value.paymentMethods,f().props.value.members;const c=d=>{s.assets.forEach(e=>{e.id==d.target.value&&(s.form.asset_number=e.asset_number,s.form.valuation_amount=e.valuation_amount,s.form.valuation_date=e.valuation_date,s.form.condition=e.condition)})};s.action=="Edit"&&c({target:{value:s.form.asset}});function v(){s.action=="Edit"?s.form.put(route("u.loanApplications.update.collaterals",s.item),{onSuccess:d=>{s.form.reset(),document.getElementById("closeModal").click()}}):(console.log(s.action),s.form.post(route("u.loanApplications.store.collaterals"),{onSuccess:d=>{s.form.reset(),document.getElementById("closeModal").click()}}))}return(d,e)=>(l(),n("div",y,[t("div",p,[t("div",x,[t("div",M,[t("h5",V,r(o.action)+" Collateral.",1),k]),t("form",{onSubmit:e[5]||(e[5]=b(a=>v(),["prevent"]))},[t("div",A,[t("div",C,[t("div",S,[t("div",E,[N,i(t("select",{required:"",onChange:e[0]||(e[0]=a=>c(a)),"onUpdate:modelValue":e[1]||(e[1]=a=>o.form.asset=a),class:"form-control",id:"asset"},[B,(l(!0),n(h,null,g(o.assets,a=>(l(),n("option",{key:a.id,value:a.id},r(a.title),9,w))),128))],544),[[_,o.form.asset]]),o.form.errors.asset?(l(),n("div",F,[t("small",null,r(o.form.errors.asset),1)])):m("",!0)]),t("div",U,[j,i(t("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":e[2]||(e[2]=a=>o.form.asset_number=a),id:"asset_number",placeholder:"Asset Number"},null,512),[[u,o.form.asset_number]]),o.form.errors.asset_number?(l(),n("div",I,[t("small",null,r(o.form.errors.asset_number),1)])):m("",!0)]),t("div",q,[D,i(t("input",{type:"text",class:"form-control",id:"valuation_amount","onUpdate:modelValue":e[3]||(e[3]=a=>o.form.valuation_amount=a),placeholder:"Valuation Amount"},null,512),[[u,o.form.valuation_amount]]),o.form.errors.valuation_amount?(l(),n("div",O,[t("small",null,r(o.form.errors.valuation_amount),1)])):m("",!0)]),t("div",L,[P,i(t("input",{type:"date",class:"form-control",id:"valuation_date","onUpdate:modelValue":e[4]||(e[4]=a=>o.form.valuation_date=a),placeholder:"Valuation date"},null,512),[[u,o.form.valuation_date]]),o.form.errors.valuation_date?(l(),n("div",T,[t("small",null,r(o.form.errors.valuation_date),1)])):m("",!0)])])])]),t("div",$,[z,t("button",G,r(o.action)+" Collateral ",1)])],32)])])]))}};export{K as default};
