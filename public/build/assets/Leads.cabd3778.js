import{r as l,u as p,q as M,a as f,o as n,c as S,w as T,b as t,f as B,v as A,e as r,s as g,l as c,m as y,t as a,F as k,k as b,x as D}from"./app.a4fe3c50.js";import N from"./LeadForm.2b1bb062.js";import{d as F}from"./debounce.3b22d5e1.js";import"./_baseGetTag.b00453d5.js";const O={class:"row"},P={class:"col-sm-12"},V={class:"iq-card"},E=t("div",{class:"iq-card-header d-flex justify-content-between"},[t("div",{class:"iq-header-title"},[t("h4",{class:"card-title"},"Leads")])],-1),H={class:"iq-card-body"},I={class:"row justify-content-between"},$={class:"col-sm-12 col-md-5"},R={id:"user_list_datatable_info",class:"dataTables_filter"},U={class:"mr-3 position-relative"},z={class:"form-group mb-0"},G={class:"col-sm-12 col-md-7"},J={class:"user-list-files d-flex float-right"},K=["href"],Q={class:"table-responsive"},W={id:"user-list-table",class:"table table-striped table-borderless mt-4",role:"grid","aria-describedby":"user-list-page-info"},X=t("thead",null,[t("tr",null,[t("th",null,"Lead"),t("th",null,"Branch"),t("th",null,"Phone Number"),t("th",null,"Address"),t("th",null,"Assigned To"),t("th",null,"Status"),t("th",null,"Date Created"),t("th",null,"Action")])],-1),Y=t("td",null,[t("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),Z={class:"flex align-items-center list-user-action"},tt=["onClick"],et=t("i",{class:"ri-pencil-line"},null,-1),st=[et],at=["onClick"],it=t("i",{class:"ri-delete-bin-line"},null,-1),ot=[it],lt={class:"row justify-content-between mt-3"},nt={id:"user-list-page-info",class:"col-md-6"},rt={class:"col-md-6"},dt={"aria-label":"Page navigation example"},ct={class:"pagination justify-content-end mb-0"},ft={name:"Leads",props:{leads:Object,filters:Object},setup(i){let o=l(i.filters.search),d=l(""),_=l("Create"),u=l(0),m=l(p({branch_id:"",assigned_to:"",first_name:"",last_name:"",date_of_birth:"",nationality:"",county:"",city:"",id_number:"",passport_number:"",phone:"",email:"",postal_address:"",residential_address:"",status_id:"",passport_photo:"",extra_images:"",membership_form:""}));const w=()=>{u.value=0,_.value="Create",m.value=p({assigned_to:"",first_name:"",last_name:"",date_of_birth:"",nationality:"",county:"",city:"",id_number:"",passport_number:"",phone:"",email:"",postal_address:"",residential_address:"",status_id:""})},C=e=>{_.value="Edit",u.value=e.id,m.value=p({lead_id:e.lead,first_name:e.first_name,last_name:e.last_name,date_of_birth:e.date_of_birth,nationality:e.nationality,county:e.county,city:e.city,id_number:e.id_number,passport_number:e.passport_number,phone:e.phone,email:e.email,postal_address:e.postal_address,residential_address:e.residential_address,status_id:e.status_id})};return M(o,F(e=>{D.Inertia.get(route("leads.index"),{search:o.value},{preserveState:!0,replace:!0})},500)),(e,v)=>{const q=f("Link"),j=f("Confirm"),x=f("Main");return n(),S(x,null,{default:T(()=>[t("div",O,[t("div",P,[t("div",V,[E,t("div",H,[t("div",I,[t("div",$,[t("div",R,[t("form",U,[t("div",z,[B(t("input",{type:"search","onUpdate:modelValue":v[0]||(v[0]=s=>g(o)?o.value=s:o=s),class:"form-control",id:"exampleInputSearch",placeholder:"Search","aria-controls":"user-list-table"},null,512),[[A,r(o)]])])])])]),t("div",G,[t("div",J,[t("a",{class:"iq-bg-primary",href:e.route("pdf.leads")}," Print ",8,K),t("a",{class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:w,href:"javascript:void();"}," New ")])])]),t("div",Q,[t("table",W,[X,t("tbody",null,[(n(!0),c(k,null,y(i.leads.data,(s,h)=>(n(),c("tr",{key:h},[t("td",null,a(s.first_name)+" "+a(s.last_name),1),t("td",null,a(s.branch.name),1),t("td",null,a(s.phone),1),t("td",null,a(s.city)+", "+a(s.nationality),1),t("td",null,a(s.assignedTo.first_name),1),Y,t("td",null,a(s.created_at.substring(0,10)),1),t("td",null,[t("div",Z,[t("a",{class:"iq-bg-primary","data-placement":"top",onClick:L=>C(s),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},st,8,tt),t("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:L=>g(d)?d.value=e.route("leads.destroy",s.id):d=e.route("leads.destroy",s.id),"data-original-title":"Delete",href:"#confirm"},ot,8,at)])])]))),128))])])]),t("div",lt,[t("div",nt,[t("span",null,"Showing 1 to "+a(i.leads.total>10?"10":i.leads.total)+" of "+a(i.leads.total)+" entries",1)]),t("div",rt,[t("nav",dt,[t("ul",ct,[(n(!0),c(k,null,y(i.leads.links,(s,h)=>(n(),c("li",{class:"page-item active",key:h},[b(q,{class:"page-link",href:s.url,innerHTML:s.label},null,8,["href","innerHTML"])]))),128))])])])])])])])]),b(j,{url:r(d)},null,8,["url"]),b(N,{form:r(m),action:r(_),item:r(u)},null,8,["form","action","item"])]),_:1})}}};export{ft as default};
