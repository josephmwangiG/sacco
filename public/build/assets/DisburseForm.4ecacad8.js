import{r as v,u as f,j as k,o as l,c as y,w as g,b as e,f as i,v as m,e as s,l as r,t as d,n as u,g as q,m as A,F as x,z as B,d as D}from"./app.a9a0490e.js";import V from"./EditApplication.fb84d386.js";const w={class:"row"},C={class:"form-group col-md-6"},N=e("label",{for:"disbursement_date"},"Disbursement Date:",-1),M={key:0,class:"text-danger"},U={class:"form-group col-sm-6"},S=e("label",{for:"disburse_method"},"Payment Method:",-1),F=e("option",{value:""},"Select option",-1),L=["value"],E={key:0,class:"text-danger"},j={class:"form-group col-md-6"},z=e("label",{for:"bank_name"},"Bank Name:",-1),I={key:0,class:"text-danger"},P={class:"form-group col-md-6"},$=e("label",{for:"bank_branch"},"Bank branch:",-1),O={key:0,class:"text-danger"},T={class:"form-group col-md-6"},G=e("label",{for:"cheque_date"},"Cheque Date:",-1),H={key:0,class:"text-danger"},J={class:"form-group col-md-6"},K=e("label",{for:"cheque_number"},"Cheque Number:",-1),Q={key:0,class:"text-danger"},R={class:"row"},W={class:"form-group col-md-12"},X={class:"form-group"},Y=e("label",{for:"disburse_note"},"Disbursement Note",-1),Z={key:0,class:"text-danger"},ee={key:0,class:"modal-footer mt-3"},te=e("button",{type:"submit",class:"btn btn-primary"},"Save Details",-1),se=[te],oe={key:1,class:"modal-footer mt-3"},ne=e("button",{type:"button",class:"btn btn-danger"},"Active Loan",-1),ae=[ne],de={name:"DisburseForm",props:{loanApplication:Object},setup(_){const a=_;let t=v(f({disburse_method:a.loanApplication.disburse_method_id,disburse_note:a.loanApplication.disburse_note,mpesa_number:a.loanApplication.mpesa_number,mpesa_first_name:a.loanApplication.mpesa_first_name,mpesa_middle_name:a.loanApplication.mpesa_middle_name,mpesa_last_name:a.loanApplication.mpesa_last_name,cheque_number:a.loanApplication.cheque_number,bank_name:a.loanApplication.bank_name,bank_branch:a.loanApplication.bank_branch,cheque_date:a.loanApplication.cheque_date,disbursement_date:a.loanApplication.disbursement_date}));const p=k().props.value.paymentMethods,b=c=>{c.target.value=="1"?document.getElementById("bank_div").classList.remove("collapse"):document.getElementById("bank_div").classList.add("collapse")};function h(){t.value.put(route("loanApplications.update.disbusement",a.loanApplication.id),{onSuccess:()=>{}})}return(c,n)=>(l(),y(V,{loanApplication:_.loanApplication,active:"disbursement"},{default:g(()=>[e("form",{onSubmit:n[8]||(n[8]=D(o=>h(),["prevent"]))},[e("div",w,[e("div",C,[N,i(e("input",{type:"date",class:"form-control",id:"disbursement_date","onUpdate:modelValue":n[0]||(n[0]=o=>s(t).disbursement_date=o),placeholder:"Bank Branch"},null,512),[[m,s(t).disbursement_date]]),s(t).errors.disbursement_date?(l(),r("div",M,[e("small",null,d(s(t).errors.disbursement_date),1)])):u("",!0)]),e("div",U,[S,i(e("select",{required:"","onUpdate:modelValue":n[1]||(n[1]=o=>s(t).disburse_method=o),class:"form-control",onChange:n[2]||(n[2]=o=>b(o)),id:"disburse_method"},[F,(l(!0),r(x,null,A(s(p),o=>(l(),r("option",{key:o.id,value:o.id},d(o.name),9,L))),128))],544),[[q,s(t).disburse_method]]),s(t).errors.disburse_method?(l(),r("div",E,[e("small",null,d(s(t).errors.disburse_method),1)])):u("",!0)])]),e("div",{class:B(["row",s(t).disburse_method=="1"?"":"collapse"]),id:"bank_div"},[e("div",j,[z,i(e("input",{type:"text",class:"form-control",id:"bank_name","onUpdate:modelValue":n[3]||(n[3]=o=>s(t).bank_name=o),placeholder:"Bank Name"},null,512),[[m,s(t).bank_name]]),s(t).errors.bank_name?(l(),r("div",I,[e("small",null,d(s(t).errors.bank_name),1)])):u("",!0)]),e("div",P,[$,i(e("input",{type:"text",class:"form-control",id:"bank_branch","onUpdate:modelValue":n[4]||(n[4]=o=>s(t).bank_branch=o),placeholder:"Bank Branch"},null,512),[[m,s(t).bank_branch]]),s(t).errors.bank_branch?(l(),r("div",O,[e("small",null,d(s(t).errors.bank_branch),1)])):u("",!0)]),e("div",T,[G,i(e("input",{type:"date",class:"form-control",id:"cheque_date","onUpdate:modelValue":n[5]||(n[5]=o=>s(t).cheque_date=o),placeholder:"Cheque Date"},null,512),[[m,s(t).cheque_date]]),s(t).errors.cheque_date?(l(),r("div",H,[e("small",null,d(s(t).errors.cheque_date),1)])):u("",!0)]),e("div",J,[K,i(e("input",{type:"text",class:"form-control",id:"cheque_number","onUpdate:modelValue":n[6]||(n[6]=o=>s(t).cheque_number=o),placeholder:"Cheque Number"},null,512),[[m,s(t).cheque_number]]),s(t).errors.cheque_number?(l(),r("div",Q,[e("small",null,d(s(t).errors.cheque_number),1)])):u("",!0)])],2),e("div",R,[e("div",W,[e("div",X,[Y,i(e("textarea",{class:"form-control","onUpdate:modelValue":n[7]||(n[7]=o=>s(t).disburse_note=o),placeholder:"Disbursement Note",id:"disburse_note",rows:"4"},null,512),[[m,s(t).disburse_note]]),s(t).errors.disburse_note?(l(),r("div",Z,[e("small",null,d(s(t).errors.disburse_note),1)])):u("",!0)])])]),_.loanApplication.approved_on==null?(l(),r("div",ee,se)):(l(),r("div",oe,ae))],32)]),_:1},8,["loanApplication"]))}};export{de as default};
