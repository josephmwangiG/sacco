import{j as y,r as o,u as _,a as A,o as i,c as N,w as q,b as e,l as p,p as w,m as B,t as n,s as $,F as x,k as g,e as c}from"./app.a4fe3c50.js";import D from"./GuarantorsForm.643eb6f7.js";import E from"./EditApplication.3c03963f.js";import"./_baseGetTag.b00453d5.js";const F={class:"row justify-content-between"},M=e("div",{class:"col-sm-5 col-md-4"},[e("h4",{class:"card-title"},"Guarantors")],-1),O={class:"col-sm-7 col-md-6"},P={class:"user-list-files d-flex float-right"},V=e("a",{class:"iq-bg-primary",href:"javascript:void();"}," Print ",-1),G={class:"table-responsive"},S={id:"user-list-table",class:"table table-striped table-borderless mt-2",role:"grid","aria-describedby":"user-list-page-info"},J=e("thead",null,[e("tr",null,[e("th",null,"Member"),e("th",null,"Ac Number"),e("th",null,"Amount"),e("th",null,"Address"),e("th",null,"Phone"),e("th",null,"Status"),e("th",null,"Join Date"),e("th",null,"Action")])],-1),L=e("td",null,[e("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),R={class:"flex align-items-center list-user-action"},z=["onClick"],H=e("i",{class:"ri-pencil-line"},null,-1),I=[H],K=["onClick"],Q=e("i",{class:"ri-delete-bin-line"},null,-1),T=[Q],j={name:"Guarantors",props:{loanApplication:Object,guarantors:Object,id:Number},setup(s){console.log(s.guarantors);const b=y().props.value.members;let l=o(""),u=o("Create"),d=o(0),m=o(_({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""}));const h=()=>{d.value=0,u.value="Create",m.value=_({member:"",notes:"",guarantee_amount:"",id_number:"",account_number:""})},f=a=>{u.value="Edit",d.value=a.id,b.forEach(r=>{r.id==a.member_id&&(m.value=_({id_number:r.id_number,account_number:r.account.account_number,member:a.member_id,notes:a.notes,guarantee_amount:a.guarantee_amount}))})};return(a,r)=>{const v=A("Confirm");return i(),N(E,{id:s.id,active:"guarantors"},{default:q(()=>[e("div",F,[M,e("div",O,[e("div",P,[V,s.loanApplication.approved_on==null?(i(),p("a",{key:0,class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:h,href:"javascript:void();"}," New ")):w("",!0)])])]),e("div",G,[e("table",S,[J,e("tbody",null,[(i(!0),p(x,null,B(s.guarantors,(t,k)=>(i(),p("tr",{key:k},[e("td",null,n(t.member.user.first_name)+" "+n(t.member.user.last_name),1),e("td",null,n(t.member.account.account_number),1),e("td",null,n(t.guarantee_amount),1),e("td",null,n(t.member.user.residential_address),1),e("td",null,n(t.member.user.phone),1),L,e("td",null,n(t.member.date_became_member.substring(0,10)),1),e("td",null,[e("div",R,[e("a",{class:"iq-bg-primary","data-placement":"top",onClick:C=>f(t),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},I,8,z),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:C=>$(l)?l.value=a.route("loanApplications.delete.guarantors",t.id):l=a.route("loanApplications.delete.guarantors",t.id),"data-original-title":"Delete",href:"#confirm"},T,8,K)])])]))),128))])])]),g(v,{url:c(l)},null,8,["url"]),g(D,{form:c(m),action:c(u),item:c(d),id:s.id},null,8,["form","action","item","id"])]),_:1},8,["id"])}}};export{j as default};
