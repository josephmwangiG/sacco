import{j as b,B as g,o as n,l,b as e,t as a,d as _,f as m,g as h,F as y,m as x,e as p,n as i,v as u}from"./app.a9a0490e.js";const M={class:"modal fade",id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"formModal","aria-hidden":"true"},k={class:"modal-dialog modal-lg",role:"document"},N={class:"modal-content"},S={class:"modal-header"},V={class:"modal-title",id:"formModal"},A=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),B={class:"modal-body modal-div"},C={class:"new-user-info"},E={class:"row"},F={class:"form-group col-sm-6"},w=e("label",{for:"member"},"Member:",-1),G=e("option",{value:""},"Select option",-1),I=["value"],U={key:0,class:"text-danger"},T={class:"form-group col-md-6"},j=e("label",{for:"account_number"},"Ac Number:",-1),q={key:0,class:"text-danger"},D={class:"form-group col-md-6"},L=e("label",{for:"id_number"},"National Id:",-1),O={key:0,class:"text-danger"},P={class:"form-group col-md-6"},$=e("label",{for:"guarantee_amount"},"Guarantee Amount:",-1),z={key:0,class:"text-danger"},H={class:"form-group col-md-12"},J={class:"form-group"},K=e("label",{for:"exampleFormControlTextarea1"},"Notes",-1),Q={key:0,class:"text-danger"},R={class:"modal-footer"},W=e("button",{type:"button",id:"closeModal",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),X={type:"submit",class:"btn btn-primary"},ee={name:"GuarantorsForm",props:{form:Object,action:String,item:Number,id:Number,m_id:Number},emits:["getItems"],setup(o,{emit:Y}){const s=o;b().props.value.paymentMethods;const c=g(()=>b().props.value.members.filter(d=>{if(d.id!=s.m_id)return d})),f=d=>{c.value.forEach(t=>{t.id==d.target.value&&(s.form.id_number=t.id_number,s.form.account_number=t.account.account_number)})};s.action=="Edit"&&f({target:{value:form.member}});function v(){s.action=="Edit"?s.form.put(route("loanApplications.update.guarantors",s.item),{onSuccess:d=>{s.form.reset(),document.getElementById("closeModal").click()}}):s.form.post(route("loanApplications.store.guarantors",s.id),{onSuccess:d=>{s.form.reset(),document.getElementById("closeModal").click()}})}return(d,t)=>(n(),l("div",M,[e("div",k,[e("div",N,[e("div",S,[e("h5",V,a(o.action)+" Guarantor.",1),A]),e("form",{onSubmit:t[6]||(t[6]=_(r=>v(),["prevent"]))},[e("div",B,[e("div",C,[e("div",E,[e("div",F,[w,m(e("select",{required:"",onChange:t[0]||(t[0]=r=>f(r)),"onUpdate:modelValue":t[1]||(t[1]=r=>o.form.member=r),class:"form-control",id:"member"},[G,(n(!0),l(y,null,x(p(c),r=>(n(),l("option",{key:r.id,value:r.id},a(r.first_name)+" "+a(r.last_name),9,I))),128))],544),[[h,o.form.member]]),o.form.errors.member?(n(),l("div",U,[e("small",null,a(o.form.errors.member),1)])):i("",!0)]),e("div",T,[j,m(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[2]||(t[2]=r=>o.form.account_number=r),id:"account_number",placeholder:"Ac Number"},null,512),[[u,o.form.account_number]]),o.form.errors.account_number?(n(),l("div",q,[e("small",null,a(o.form.errors.account_number),1)])):i("",!0)]),e("div",D,[L,m(e("input",{type:"text",class:"form-control",id:"id_number","onUpdate:modelValue":t[3]||(t[3]=r=>o.form.id_number=r),placeholder:"National Id"},null,512),[[u,o.form.id_number]]),o.form.errors.id_number?(n(),l("div",O,[e("small",null,a(o.form.errors.id_number),1)])):i("",!0)]),e("div",P,[$,m(e("input",{type:"text",class:"form-control",id:"guarantee_amount","onUpdate:modelValue":t[4]||(t[4]=r=>o.form.guarantee_amount=r),placeholder:"Guarantee Amount"},null,512),[[u,o.form.guarantee_amount]]),o.form.errors.guarantee_amount?(n(),l("div",z,[e("small",null,a(o.form.errors.guarantee_amount),1)])):i("",!0)]),e("div",H,[e("div",J,[K,m(e("textarea",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=r=>o.form.notes=r),placeholder:"Short notes",id:"exampleFormControlTextarea1",rows:"4"},null,512),[[u,o.form.notes]]),o.form.errors.notes?(n(),l("div",Q,[e("small",null,a(o.form.errors.notes),1)])):i("",!0)])])])])]),e("div",R,[W,e("button",X,a(o.action)+" Guarantor ",1)])],32)])])]))}};export{ee as default};
