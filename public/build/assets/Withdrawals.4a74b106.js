import{j as L,r as n,u as p,q as B,a as f,o as r,c as D,w as T,b as e,f as F,v as I,e as o,s as v,l as c,m as g,t as s,F as k,k as w,x as N}from"./app.dc7518d1.js";import P from"./WithdrawalForm.65e2ea3d.js";import{d as V}from"./debounce.1fcac330.js";import"./_baseGetTag.21ad0093.js";const W={class:"row"},E={class:"col-sm-12"},H={class:"iq-card"},O=e("div",{class:"iq-card-header d-flex justify-content-between"},[e("div",{class:"iq-header-title"},[e("h4",{class:"card-title"},"Withdrawals")])],-1),R={class:"iq-card-body"},$={class:"row justify-content-between"},U={class:"col-sm-12 col-md-5"},z={id:"user_list_datatable_info",class:"dataTables_filter"},G={class:"mr-3 position-relative"},J={class:"form-group mb-0"},K={class:"col-sm-12 col-md-7"},Q={class:"user-list-files d-flex float-right"},X=["href"],Y={class:"table-responsive"},Z={id:"user-list-table",class:"table table-striped table-borderless mt-4",role:"grid","aria-describedby":"user-list-page-info"},j=e("thead",null,[e("tr",null,[e("th",null,"Receipt"),e("th",null,"Member"),e("th",null,"Withdrawal Date"),e("th",null,"Method"),e("th",null,"Amount"),e("th",null,"Status"),e("th",null,"Action")])],-1),ee=e("td",null,[e("span",{class:"badge dark-icon-light iq-bg-primary"},"Active")],-1),te={class:"flex align-items-center list-user-action"},ae=["onClick"],se=e("i",{class:"ri-pencil-line"},null,-1),le=[se],ie=["onClick"],ne=e("i",{class:"ri-delete-bin-line"},null,-1),re=[ne],oe={class:"row justify-content-between mt-3"},de={id:"user-list-page-info",class:"col-md-6"},ce={class:"col-md-6"},ue={"aria-label":"Page navigation example"},me={class:"pagination justify-content-end mb-0"},we={name:"Withdrawals",props:{withdrawals:Object,filters:Object},setup(l){const y=l;L().props.value.members;let i=n(y.filters.search),d=n(""),u=n("Add"),m=n(0),_=n(p({member:"",amount:"",payment_method:"",withdrawal_date:"",description:"",account_number:"",id_number:"",bank_name:"",bank_branch:"",cheque_date:"",cheque_number:""}));const q=()=>{m.value=0,u.value="Add",_.value=p({member:"",amount:"",payment_method:"",withdrawal_date:"",description:"",account_number:"",id_number:"",bank_name:"",bank_branch:"",cheque_date:"",cheque_number:""})},C=t=>{u.value="Edit",m.value=t.id,_.value=p({member:t.member_id,amount:t.amount,id_number:t.member.id_number,account_number:t.account.account_number,payment_method:t.method_id,withdrawal_date:t.withdrawal_date,description:t.notes,bank_name:t.bank_name,bank_branch:t.bank_branch,cheque_date:t.cheque_date,cheque_number:t.cheque_number})};return B(i,V(t=>{N.Inertia.get(route("withdrawals.index"),{search:i.value},{preserveState:!0,replace:!0})},500)),(t,b)=>{const M=f("Link"),x=f("Confirm"),S=f("Main");return r(),D(S,null,{default:T(()=>[e("div",W,[e("div",E,[e("div",H,[O,e("div",R,[e("div",$,[e("div",U,[e("div",z,[e("form",G,[e("div",J,[F(e("input",{type:"search","onUpdate:modelValue":b[0]||(b[0]=a=>v(i)?i.value=a:i=a),class:"form-control",id:"exampleInputSearch",placeholder:"Search","aria-controls":"user-list-table"},null,512),[[I,o(i)]])])])])]),e("div",K,[e("div",Q,[e("a",{class:"iq-bg-primary",href:t.route("pdf.withdrawals")}," Print ",8,X),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-target":"#formModal",onClick:q,href:"javascript:void();"}," New ")])])]),e("div",Y,[e("table",Z,[j,e("tbody",null,[(r(!0),c(k,null,g(l.withdrawals.data,(a,h)=>(r(),c("tr",{key:h},[e("td",null,s(a.withdrawal_number),1),e("td",null,s(a.user.first_name)+" "+s(a.user.last_name),1),e("td",null,s(a.withdrawal_date),1),e("td",null,s(a.method_id),1),e("td",null,s(a.amount),1),ee,e("td",null,[e("div",te,[e("a",{class:"iq-bg-primary","data-placement":"top",onClick:A=>C(a),"data-toggle":"modal","data-target":"#formModal",href:"javascript:void();"},le,8,ae),e("a",{class:"iq-bg-primary","data-toggle":"modal","data-placement":"top",onClick:A=>v(d)?d.value=t.route("withdrawals.destroy",a.id):d=t.route("withdrawals.destroy",a.id),"data-original-title":"Delete",href:"#confirm"},re,8,ie)])])]))),128))])])]),e("div",oe,[e("div",de,[e("span",null,"Showing 1 to "+s(l.withdrawals.total>10?"10":l.withdrawals.total)+" of "+s(l.withdrawals.total)+" entries",1)]),e("div",ce,[e("nav",ue,[e("ul",me,[(r(!0),c(k,null,g(l.withdrawals.links,(a,h)=>(r(),c("li",{class:"page-item active",key:h},[w(M,{class:"page-link",href:a.url,innerHTML:a.label},null,8,["href","innerHTML"])]))),128))])])])])])])])]),w(x,{url:o(d)},null,8,["url"]),w(P,{form:o(_),action:o(u),item:o(m)},null,8,["form","action","item"])]),_:1})}}};export{we as default};
